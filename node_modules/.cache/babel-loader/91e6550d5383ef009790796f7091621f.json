{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from './event.js';\nconst shortcutEvent = Object.freeze(function (callback, context) {\n  const handle = setTimeout(callback.bind(context), 0);\n  return {\n    dispose() {\n      clearTimeout(handle);\n    }\n\n  };\n});\nexport var CancellationToken;\n\n(function (CancellationToken) {\n  function isCancellationToken(thing) {\n    if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n      return true;\n    }\n\n    if (thing instanceof MutableToken) {\n      return true;\n    }\n\n    if (!thing || typeof thing !== 'object') {\n      return false;\n    }\n\n    return typeof thing.isCancellationRequested === 'boolean' && typeof thing.onCancellationRequested === 'function';\n  }\n\n  CancellationToken.isCancellationToken = isCancellationToken;\n  CancellationToken.None = Object.freeze({\n    isCancellationRequested: false,\n    onCancellationRequested: Event.None\n  });\n  CancellationToken.Cancelled = Object.freeze({\n    isCancellationRequested: true,\n    onCancellationRequested: shortcutEvent\n  });\n})(CancellationToken || (CancellationToken = {}));\n\nclass MutableToken {\n  constructor() {\n    this._isCancelled = false;\n    this._emitter = null;\n  }\n\n  cancel() {\n    if (!this._isCancelled) {\n      this._isCancelled = true;\n\n      if (this._emitter) {\n        this._emitter.fire(undefined);\n\n        this.dispose();\n      }\n    }\n  }\n\n  get isCancellationRequested() {\n    return this._isCancelled;\n  }\n\n  get onCancellationRequested() {\n    if (this._isCancelled) {\n      return shortcutEvent;\n    }\n\n    if (!this._emitter) {\n      this._emitter = new Emitter();\n    }\n\n    return this._emitter.event;\n  }\n\n  dispose() {\n    if (this._emitter) {\n      this._emitter.dispose();\n\n      this._emitter = null;\n    }\n  }\n\n}\n\nexport class CancellationTokenSource {\n  constructor(parent) {\n    this._token = undefined;\n    this._parentListener = undefined;\n    this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n  }\n\n  get token() {\n    if (!this._token) {\n      // be lazy and create the token only when\n      // actually needed\n      this._token = new MutableToken();\n    }\n\n    return this._token;\n  }\n\n  cancel() {\n    if (!this._token) {\n      // save an object by returning the default\n      // cancelled token when cancellation happens\n      // before someone asks for the token\n      this._token = CancellationToken.Cancelled;\n    } else if (this._token instanceof MutableToken) {\n      // actually cancel\n      this._token.cancel();\n    }\n  }\n\n  dispose(cancel = false) {\n    if (cancel) {\n      this.cancel();\n    }\n\n    if (this._parentListener) {\n      this._parentListener.dispose();\n    }\n\n    if (!this._token) {\n      // ensure to initialize with an empty token if we had none\n      this._token = CancellationToken.None;\n    } else if (this._token instanceof MutableToken) {\n      // actually dispose\n      this._token.dispose();\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/base/common/cancellation.js"],"names":["Emitter","Event","shortcutEvent","Object","freeze","callback","context","handle","setTimeout","bind","dispose","clearTimeout","CancellationToken","isCancellationToken","thing","None","Cancelled","MutableToken","isCancellationRequested","onCancellationRequested","constructor","_isCancelled","_emitter","cancel","fire","undefined","event","CancellationTokenSource","parent","_token","_parentListener","token"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from './event.js';\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = setTimeout(callback.bind(context), 0);\n    return { dispose() { clearTimeout(handle); } };\n});\nexport var CancellationToken;\n(function (CancellationToken) {\n    function isCancellationToken(thing) {\n        if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n            return true;\n        }\n        if (thing instanceof MutableToken) {\n            return true;\n        }\n        if (!thing || typeof thing !== 'object') {\n            return false;\n        }\n        return typeof thing.isCancellationRequested === 'boolean'\n            && typeof thing.onCancellationRequested === 'function';\n    }\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: shortcutEvent\n    });\n})(CancellationToken || (CancellationToken = {}));\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n        this._emitter = null;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = null;\n        }\n    }\n}\nexport class CancellationTokenSource {\n    constructor(parent) {\n        this._token = undefined;\n        this._parentListener = undefined;\n        this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually cancel\n            this._token.cancel();\n        }\n    }\n    dispose(cancel = false) {\n        if (cancel) {\n            this.cancel();\n        }\n        if (this._parentListener) {\n            this._parentListener.dispose();\n        }\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}