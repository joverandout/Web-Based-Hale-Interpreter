{"ast":null,"code":"var _jsxFileName = \"/home/joe/DISSY/flask_test_1/react-flask-app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { getList, setItem } from '../../services/list';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [alert, setAlert] = useState(false);\n  const [itemInput, setItemInput] = useState('');\n  const [list, setList] = useState([]);\n  const mounted = useRef(true);\n  useEffect(() => {\n    mounted.current = true;\n\n    if (list.length && !alert) {\n      return;\n    }\n\n    getList().then(items => {\n      if (mounted.current) {\n        setList(items);\n      }\n    });\n    return () => mounted.current = false;\n  }, [alert, list]);\n  useEffect(() => {\n    if (alert) {\n      setTimeout(() => {\n        if (mounted.current) {\n          setAlert(false);\n        }\n      }, 1000);\n    }\n  }, [alert]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setItem(itemInput).then(() => {\n      if (mounted.current) {\n        setItemInput('');\n        setAlert(true);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: \"...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"s+jiWLvShBvyiKsjGiB12UWYzII=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/src/App.js"],"names":["React","useEffect","useRef","useState","getList","setItem","App","alert","setAlert","itemInput","setItemInput","list","setList","mounted","current","length","then","items","setTimeout","handleSubmit","e","preventDefault"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAO,WAAP;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,qBAAjC;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMU,OAAO,GAAGX,MAAM,CAAC,IAAD,CAAtB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,OAAO,CAACC,OAAR,GAAkB,IAAlB;;AACA,QAAGH,IAAI,CAACI,MAAL,IAAe,CAACR,KAAnB,EAA0B;AACxB;AACD;;AACDH,IAAAA,OAAO,GACJY,IADH,CACQC,KAAK,IAAI;AACb,UAAGJ,OAAO,CAACC,OAAX,EAAoB;AAClBF,QAAAA,OAAO,CAACK,KAAD,CAAP;AACD;AACF,KALH;AAMA,WAAO,MAAMJ,OAAO,CAACC,OAAR,GAAkB,KAA/B;AACD,GAZQ,EAYN,CAACP,KAAD,EAAQI,IAAR,CAZM,CAAT;AAcAV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGM,KAAH,EAAU;AACRW,MAAAA,UAAU,CAAC,MAAM;AACf,YAAGL,OAAO,CAACC,OAAX,EAAoB;AAClBN,UAAAA,QAAQ,CAAC,KAAD,CAAR;AACD;AACF,OAJS,EAIP,IAJO,CAAV;AAKD;AACF,GARQ,EAQN,CAACD,KAAD,CARM,CAAT;;AAUA,QAAMY,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAhB,IAAAA,OAAO,CAACI,SAAD,CAAP,CACGO,IADH,CACQ,MAAM;AACV,UAAGH,OAAO,CAACC,OAAX,EAAoB;AAClBJ,QAAAA,YAAY,CAAC,EAAD,CAAZ;AACAF,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,KANH;AAOD,GATD;;AAWA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA9CQF,G;;KAAAA,G;AAgDT,eAAeA,GAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { getList, setItem } from '../../services/list';\n\nfunction App() {\n  const [alert, setAlert] = useState(false);\n  const [itemInput, setItemInput] = useState('');\n  const [list, setList] = useState([]);\n  const mounted = useRef(true);\n\n  useEffect(() => {\n    mounted.current = true;\n    if(list.length && !alert) {\n      return;\n    }\n    getList()\n      .then(items => {\n        if(mounted.current) {\n          setList(items)\n        }\n      })\n    return () => mounted.current = false;\n  }, [alert, list])\n\n  useEffect(() => {\n    if(alert) {\n      setTimeout(() => {\n        if(mounted.current) {\n          setAlert(false);\n        }\n      }, 1000)\n    }\n  }, [alert])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setItem(itemInput)\n      .then(() => {\n        if(mounted.current) {\n          setItemInput('');\n          setAlert(true);\n        }\n      })\n  };\n\n  return(\n    <div className=\"wrapper\">\n       ...\n    </div>\n  )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}