{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { $, append, createStyleSheet, EventHelper, getElementsByTagName } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType, Gesture } from '../../touch.js';\nimport { Delayer } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './sash.css';\n/**\n * Allow the sashes to be visible at runtime.\n * @remark Use for development purposes only.\n */\n\nlet DEBUG = false;\nexport var OrthogonalEdge;\n\n(function (OrthogonalEdge) {\n  OrthogonalEdge[\"North\"] = \"north\";\n  OrthogonalEdge[\"South\"] = \"south\";\n  OrthogonalEdge[\"East\"] = \"east\";\n  OrthogonalEdge[\"West\"] = \"west\";\n})(OrthogonalEdge || (OrthogonalEdge = {}));\n\nlet globalSize = 4;\nconst onDidChangeGlobalSize = new Emitter();\nlet globalHoverDelay = 300;\nconst onDidChangeHoverDelay = new Emitter();\n\nclass MouseEventFactory {\n  constructor() {\n    this.disposables = new DisposableStore();\n  }\n\n  get onPointerMove() {\n    return this.disposables.add(new DomEmitter(window, 'mousemove')).event;\n  }\n\n  get onPointerUp() {\n    return this.disposables.add(new DomEmitter(window, 'mouseup')).event;\n  }\n\n  dispose() {\n    this.disposables.dispose();\n  }\n\n}\n\n__decorate([memoize], MouseEventFactory.prototype, \"onPointerMove\", null);\n\n__decorate([memoize], MouseEventFactory.prototype, \"onPointerUp\", null);\n\nclass GestureEventFactory {\n  constructor(el) {\n    this.el = el;\n    this.disposables = new DisposableStore();\n  }\n\n  get onPointerMove() {\n    return this.disposables.add(new DomEmitter(this.el, EventType.Change)).event;\n  }\n\n  get onPointerUp() {\n    return this.disposables.add(new DomEmitter(this.el, EventType.End)).event;\n  }\n\n  dispose() {\n    this.disposables.dispose();\n  }\n\n}\n\n__decorate([memoize], GestureEventFactory.prototype, \"onPointerMove\", null);\n\n__decorate([memoize], GestureEventFactory.prototype, \"onPointerUp\", null);\n\nclass OrthogonalPointerEventFactory {\n  constructor(factory) {\n    this.factory = factory;\n  }\n\n  get onPointerMove() {\n    return this.factory.onPointerMove;\n  }\n\n  get onPointerUp() {\n    return this.factory.onPointerUp;\n  }\n\n  dispose() {// noop\n  }\n\n}\n\n__decorate([memoize], OrthogonalPointerEventFactory.prototype, \"onPointerMove\", null);\n\n__decorate([memoize], OrthogonalPointerEventFactory.prototype, \"onPointerUp\", null);\n\nconst PointerEventsDisabledCssClass = 'pointer-events-disabled';\n/**\n * The {@link Sash} is the UI component which allows the user to resize other\n * components. It's usually an invisible horizontal or vertical line which, when\n * hovered, becomes highlighted and can be dragged along the perpendicular dimension\n * to its direction.\n *\n * Features:\n * - Touch event handling\n * - Corner sash support\n * - Hover with different mouse cursor support\n * - Configurable hover size\n * - Linked sash support, for 2x2 corner sashes\n */\n\nexport class Sash extends Disposable {\n  constructor(container, layoutProvider, options) {\n    super();\n    this.hoverDelay = globalHoverDelay;\n    this.hoverDelayer = this._register(new Delayer(this.hoverDelay));\n    this._state = 3\n    /* Enabled */\n    ;\n    this.onDidEnablementChange = this._register(new Emitter());\n    this._onDidStart = this._register(new Emitter());\n    this._onDidChange = this._register(new Emitter());\n    this._onDidReset = this._register(new Emitter());\n    this._onDidEnd = this._register(new Emitter());\n    this.orthogonalStartSashDisposables = this._register(new DisposableStore());\n    this.orthogonalStartDragHandleDisposables = this._register(new DisposableStore());\n    this.orthogonalEndSashDisposables = this._register(new DisposableStore());\n    this.orthogonalEndDragHandleDisposables = this._register(new DisposableStore());\n    /**\n     * An event which fires whenever the user starts dragging this sash.\n     */\n\n    this.onDidStart = this._onDidStart.event;\n    /**\n     * An event which fires whenever the user moves the mouse while\n     * dragging this sash.\n     */\n\n    this.onDidChange = this._onDidChange.event;\n    /**\n     * An event which fires whenever the user double clicks this sash.\n     */\n\n    this.onDidReset = this._onDidReset.event;\n    /**\n     * An event which fires whenever the user stops dragging this sash.\n     */\n\n    this.onDidEnd = this._onDidEnd.event;\n    /**\n     * A linked sash will be forwarded the same user interactions and events\n     * so it moves exactly the same way as this sash.\n     *\n     * Useful in 2x2 grids. Not meant for widespread usage.\n     */\n\n    this.linkedSash = undefined;\n    this.el = append(container, $('.monaco-sash'));\n\n    if (options.orthogonalEdge) {\n      this.el.classList.add(`orthogonal-edge-${options.orthogonalEdge}`);\n    }\n\n    if (isMacintosh) {\n      this.el.classList.add('mac');\n    }\n\n    const onMouseDown = this._register(new DomEmitter(this.el, 'mousedown')).event;\n\n    this._register(onMouseDown(e => this.onPointerStart(e, new MouseEventFactory()), this));\n\n    const onMouseDoubleClick = this._register(new DomEmitter(this.el, 'dblclick')).event;\n\n    this._register(onMouseDoubleClick(this.onPointerDoublePress, this));\n\n    const onMouseEnter = this._register(new DomEmitter(this.el, 'mouseenter')).event;\n\n    this._register(onMouseEnter(() => Sash.onMouseEnter(this)));\n\n    const onMouseLeave = this._register(new DomEmitter(this.el, 'mouseleave')).event;\n\n    this._register(onMouseLeave(() => Sash.onMouseLeave(this)));\n\n    this._register(Gesture.addTarget(this.el));\n\n    const onTouchStart = Event.map(this._register(new DomEmitter(this.el, EventType.Start)).event, e => {\n      var _a;\n\n      return Object.assign(Object.assign({}, e), {\n        target: (_a = e.initialTarget) !== null && _a !== void 0 ? _a : null\n      });\n    });\n\n    this._register(onTouchStart(e => this.onPointerStart(e, new GestureEventFactory(this.el)), this));\n\n    const onTap = this._register(new DomEmitter(this.el, EventType.Tap)).event;\n\n    const onDoubleTap = Event.map(Event.filter(Event.debounce(onTap, (res, event) => {\n      var _a;\n\n      return {\n        event,\n        count: ((_a = res === null || res === void 0 ? void 0 : res.count) !== null && _a !== void 0 ? _a : 0) + 1\n      };\n    }, 250), ({\n      count\n    }) => count === 2), ({\n      event\n    }) => {\n      var _a;\n\n      return Object.assign(Object.assign({}, event), {\n        target: (_a = event.initialTarget) !== null && _a !== void 0 ? _a : null\n      });\n    });\n\n    this._register(onDoubleTap(this.onPointerDoublePress, this));\n\n    if (typeof options.size === 'number') {\n      this.size = options.size;\n\n      if (options.orientation === 0\n      /* VERTICAL */\n      ) {\n        this.el.style.width = `${this.size}px`;\n      } else {\n        this.el.style.height = `${this.size}px`;\n      }\n    } else {\n      this.size = globalSize;\n\n      this._register(onDidChangeGlobalSize.event(size => {\n        this.size = size;\n        this.layout();\n      }));\n    }\n\n    this._register(onDidChangeHoverDelay.event(delay => this.hoverDelay = delay));\n\n    this.layoutProvider = layoutProvider;\n    this.orthogonalStartSash = options.orthogonalStartSash;\n    this.orthogonalEndSash = options.orthogonalEndSash;\n    this.orientation = options.orientation || 0\n    /* VERTICAL */\n    ;\n\n    if (this.orientation === 1\n    /* HORIZONTAL */\n    ) {\n      this.el.classList.add('horizontal');\n      this.el.classList.remove('vertical');\n    } else {\n      this.el.classList.remove('horizontal');\n      this.el.classList.add('vertical');\n    }\n\n    this.el.classList.toggle('debug', DEBUG);\n    this.layout();\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  get orthogonalStartSash() {\n    return this._orthogonalStartSash;\n  }\n\n  get orthogonalEndSash() {\n    return this._orthogonalEndSash;\n  }\n  /**\n   * The state of a sash defines whether it can be interacted with by the user\n   * as well as what mouse cursor to use, when hovered.\n   */\n\n\n  set state(state) {\n    if (this._state === state) {\n      return;\n    }\n\n    this.el.classList.toggle('disabled', state === 0\n    /* Disabled */\n    );\n    this.el.classList.toggle('minimum', state === 1\n    /* AtMinimum */\n    );\n    this.el.classList.toggle('maximum', state === 2\n    /* AtMaximum */\n    );\n    this._state = state;\n    this.onDidEnablementChange.fire(state);\n  }\n  /**\n   * A reference to another sash, perpendicular to this one, which\n   * aligns at the start of this one. A corner sash will be created\n   * automatically at that location.\n   *\n   * The start of a horizontal sash is its left-most position.\n   * The start of a vertical sash is its top-most position.\n   */\n\n\n  set orthogonalStartSash(sash) {\n    this.orthogonalStartDragHandleDisposables.clear();\n    this.orthogonalStartSashDisposables.clear();\n\n    if (sash) {\n      const onChange = state => {\n        this.orthogonalStartDragHandleDisposables.clear();\n\n        if (state !== 0\n        /* Disabled */\n        ) {\n          this._orthogonalStartDragHandle = append(this.el, $('.orthogonal-drag-handle.start'));\n          this.orthogonalStartDragHandleDisposables.add(toDisposable(() => this._orthogonalStartDragHandle.remove()));\n          this.orthogonalStartDragHandleDisposables.add(new DomEmitter(this._orthogonalStartDragHandle, 'mouseenter')).event(() => Sash.onMouseEnter(sash), undefined, this.orthogonalStartDragHandleDisposables);\n          this.orthogonalStartDragHandleDisposables.add(new DomEmitter(this._orthogonalStartDragHandle, 'mouseleave')).event(() => Sash.onMouseLeave(sash), undefined, this.orthogonalStartDragHandleDisposables);\n        }\n      };\n\n      this.orthogonalStartSashDisposables.add(sash.onDidEnablementChange.event(onChange, this));\n      onChange(sash.state);\n    }\n\n    this._orthogonalStartSash = sash;\n  }\n  /**\n   * A reference to another sash, perpendicular to this one, which\n   * aligns at the end of this one. A corner sash will be created\n   * automatically at that location.\n   *\n   * The end of a horizontal sash is its right-most position.\n   * The end of a vertical sash is its bottom-most position.\n   */\n\n\n  set orthogonalEndSash(sash) {\n    this.orthogonalEndDragHandleDisposables.clear();\n    this.orthogonalEndSashDisposables.clear();\n\n    if (sash) {\n      const onChange = state => {\n        this.orthogonalEndDragHandleDisposables.clear();\n\n        if (state !== 0\n        /* Disabled */\n        ) {\n          this._orthogonalEndDragHandle = append(this.el, $('.orthogonal-drag-handle.end'));\n          this.orthogonalEndDragHandleDisposables.add(toDisposable(() => this._orthogonalEndDragHandle.remove()));\n          this.orthogonalEndDragHandleDisposables.add(new DomEmitter(this._orthogonalEndDragHandle, 'mouseenter')).event(() => Sash.onMouseEnter(sash), undefined, this.orthogonalEndDragHandleDisposables);\n          this.orthogonalEndDragHandleDisposables.add(new DomEmitter(this._orthogonalEndDragHandle, 'mouseleave')).event(() => Sash.onMouseLeave(sash), undefined, this.orthogonalEndDragHandleDisposables);\n        }\n      };\n\n      this.orthogonalEndSashDisposables.add(sash.onDidEnablementChange.event(onChange, this));\n      onChange(sash.state);\n    }\n\n    this._orthogonalEndSash = sash;\n  }\n\n  onPointerStart(event, pointerEventFactory) {\n    EventHelper.stop(event);\n    let isMultisashResize = false;\n\n    if (!event.__orthogonalSashEvent) {\n      const orthogonalSash = this.getOrthogonalSash(event);\n\n      if (orthogonalSash) {\n        isMultisashResize = true;\n        event.__orthogonalSashEvent = true;\n        orthogonalSash.onPointerStart(event, new OrthogonalPointerEventFactory(pointerEventFactory));\n      }\n    }\n\n    if (this.linkedSash && !event.__linkedSashEvent) {\n      event.__linkedSashEvent = true;\n      this.linkedSash.onPointerStart(event, new OrthogonalPointerEventFactory(pointerEventFactory));\n    }\n\n    if (!this.state) {\n      return;\n    }\n\n    const iframes = getElementsByTagName('iframe');\n\n    for (const iframe of iframes) {\n      iframe.classList.add(PointerEventsDisabledCssClass); // disable mouse events on iframes as long as we drag the sash\n    }\n\n    const startX = event.pageX;\n    const startY = event.pageY;\n    const altKey = event.altKey;\n    const startEvent = {\n      startX,\n      currentX: startX,\n      startY,\n      currentY: startY,\n      altKey\n    };\n    this.el.classList.add('active');\n\n    this._onDidStart.fire(startEvent); // fix https://github.com/microsoft/vscode/issues/21675\n\n\n    const style = createStyleSheet(this.el);\n\n    const updateStyle = () => {\n      let cursor = '';\n\n      if (isMultisashResize) {\n        cursor = 'all-scroll';\n      } else if (this.orientation === 1\n      /* HORIZONTAL */\n      ) {\n        if (this.state === 1\n        /* AtMinimum */\n        ) {\n          cursor = 's-resize';\n        } else if (this.state === 2\n        /* AtMaximum */\n        ) {\n          cursor = 'n-resize';\n        } else {\n          cursor = isMacintosh ? 'row-resize' : 'ns-resize';\n        }\n      } else {\n        if (this.state === 1\n        /* AtMinimum */\n        ) {\n          cursor = 'e-resize';\n        } else if (this.state === 2\n        /* AtMaximum */\n        ) {\n          cursor = 'w-resize';\n        } else {\n          cursor = isMacintosh ? 'col-resize' : 'ew-resize';\n        }\n      }\n\n      style.textContent = `* { cursor: ${cursor} !important; }`;\n    };\n\n    const disposables = new DisposableStore();\n    updateStyle();\n\n    if (!isMultisashResize) {\n      this.onDidEnablementChange.event(updateStyle, null, disposables);\n    }\n\n    const onPointerMove = e => {\n      EventHelper.stop(e, false);\n      const event = {\n        startX,\n        currentX: e.pageX,\n        startY,\n        currentY: e.pageY,\n        altKey\n      };\n\n      this._onDidChange.fire(event);\n    };\n\n    const onPointerUp = e => {\n      EventHelper.stop(e, false);\n      this.el.removeChild(style);\n      this.el.classList.remove('active');\n\n      this._onDidEnd.fire();\n\n      disposables.dispose();\n\n      for (const iframe of iframes) {\n        iframe.classList.remove(PointerEventsDisabledCssClass);\n      }\n    };\n\n    pointerEventFactory.onPointerMove(onPointerMove, null, disposables);\n    pointerEventFactory.onPointerUp(onPointerUp, null, disposables);\n    disposables.add(pointerEventFactory);\n  }\n\n  onPointerDoublePress(e) {\n    const orthogonalSash = this.getOrthogonalSash(e);\n\n    if (orthogonalSash) {\n      orthogonalSash._onDidReset.fire();\n    }\n\n    if (this.linkedSash) {\n      this.linkedSash._onDidReset.fire();\n    }\n\n    this._onDidReset.fire();\n  }\n\n  static onMouseEnter(sash, fromLinkedSash = false) {\n    if (sash.el.classList.contains('active')) {\n      sash.hoverDelayer.cancel();\n      sash.el.classList.add('hover');\n    } else {\n      sash.hoverDelayer.trigger(() => sash.el.classList.add('hover'), sash.hoverDelay).then(undefined, () => {});\n    }\n\n    if (!fromLinkedSash && sash.linkedSash) {\n      Sash.onMouseEnter(sash.linkedSash, true);\n    }\n  }\n\n  static onMouseLeave(sash, fromLinkedSash = false) {\n    sash.hoverDelayer.cancel();\n    sash.el.classList.remove('hover');\n\n    if (!fromLinkedSash && sash.linkedSash) {\n      Sash.onMouseLeave(sash.linkedSash, true);\n    }\n  }\n  /**\n   * Forcefully stop any user interactions with this sash.\n   * Useful when hiding a parent component, while the user is still\n   * interacting with the sash.\n   */\n\n\n  clearSashHoverState() {\n    Sash.onMouseLeave(this);\n  }\n  /**\n   * Layout the sash. The sash will size and position itself\n   * based on its provided {@link ISashLayoutProvider layout provider}.\n   */\n\n\n  layout() {\n    if (this.orientation === 0\n    /* VERTICAL */\n    ) {\n      const verticalProvider = this.layoutProvider;\n      this.el.style.left = verticalProvider.getVerticalSashLeft(this) - this.size / 2 + 'px';\n\n      if (verticalProvider.getVerticalSashTop) {\n        this.el.style.top = verticalProvider.getVerticalSashTop(this) + 'px';\n      }\n\n      if (verticalProvider.getVerticalSashHeight) {\n        this.el.style.height = verticalProvider.getVerticalSashHeight(this) + 'px';\n      }\n    } else {\n      const horizontalProvider = this.layoutProvider;\n      this.el.style.top = horizontalProvider.getHorizontalSashTop(this) - this.size / 2 + 'px';\n\n      if (horizontalProvider.getHorizontalSashLeft) {\n        this.el.style.left = horizontalProvider.getHorizontalSashLeft(this) + 'px';\n      }\n\n      if (horizontalProvider.getHorizontalSashWidth) {\n        this.el.style.width = horizontalProvider.getHorizontalSashWidth(this) + 'px';\n      }\n    }\n  }\n\n  getOrthogonalSash(e) {\n    if (!e.target || !(e.target instanceof HTMLElement)) {\n      return undefined;\n    }\n\n    if (e.target.classList.contains('orthogonal-drag-handle')) {\n      return e.target.classList.contains('start') ? this.orthogonalStartSash : this.orthogonalEndSash;\n    }\n\n    return undefined;\n  }\n\n  dispose() {\n    super.dispose();\n    this.el.remove();\n  }\n\n}","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/base/browser/ui/sash/sash.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","$","append","createStyleSheet","EventHelper","getElementsByTagName","DomEmitter","EventType","Gesture","Delayer","memoize","Emitter","Event","Disposable","DisposableStore","toDisposable","isMacintosh","DEBUG","OrthogonalEdge","globalSize","onDidChangeGlobalSize","globalHoverDelay","onDidChangeHoverDelay","MouseEventFactory","constructor","disposables","onPointerMove","add","window","event","onPointerUp","dispose","prototype","GestureEventFactory","el","Change","End","OrthogonalPointerEventFactory","factory","PointerEventsDisabledCssClass","Sash","container","layoutProvider","options","hoverDelay","hoverDelayer","_register","_state","onDidEnablementChange","_onDidStart","_onDidChange","_onDidReset","_onDidEnd","orthogonalStartSashDisposables","orthogonalStartDragHandleDisposables","orthogonalEndSashDisposables","orthogonalEndDragHandleDisposables","onDidStart","onDidChange","onDidReset","onDidEnd","linkedSash","undefined","orthogonalEdge","classList","onMouseDown","e","onPointerStart","onMouseDoubleClick","onPointerDoublePress","onMouseEnter","onMouseLeave","addTarget","onTouchStart","map","Start","_a","assign","initialTarget","onTap","Tap","onDoubleTap","filter","debounce","res","count","size","orientation","style","width","height","layout","delay","orthogonalStartSash","orthogonalEndSash","remove","toggle","state","_orthogonalStartSash","_orthogonalEndSash","fire","sash","clear","onChange","_orthogonalStartDragHandle","_orthogonalEndDragHandle","pointerEventFactory","stop","isMultisashResize","__orthogonalSashEvent","orthogonalSash","getOrthogonalSash","__linkedSashEvent","iframes","iframe","startX","pageX","startY","pageY","altKey","startEvent","currentX","currentY","updateStyle","cursor","textContent","removeChild","fromLinkedSash","contains","cancel","trigger","then","clearSashHoverState","verticalProvider","left","getVerticalSashLeft","getVerticalSashTop","top","getVerticalSashHeight","horizontalProvider","getHorizontalSashTop","getHorizontalSashLeft","getHorizontalSashWidth","HTMLElement"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { $, append, createStyleSheet, EventHelper, getElementsByTagName } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType, Gesture } from '../../touch.js';\nimport { Delayer } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './sash.css';\n/**\n * Allow the sashes to be visible at runtime.\n * @remark Use for development purposes only.\n */\nlet DEBUG = false;\nexport var OrthogonalEdge;\n(function (OrthogonalEdge) {\n    OrthogonalEdge[\"North\"] = \"north\";\n    OrthogonalEdge[\"South\"] = \"south\";\n    OrthogonalEdge[\"East\"] = \"east\";\n    OrthogonalEdge[\"West\"] = \"west\";\n})(OrthogonalEdge || (OrthogonalEdge = {}));\nlet globalSize = 4;\nconst onDidChangeGlobalSize = new Emitter();\nlet globalHoverDelay = 300;\nconst onDidChangeHoverDelay = new Emitter();\nclass MouseEventFactory {\n    constructor() {\n        this.disposables = new DisposableStore();\n    }\n    get onPointerMove() {\n        return this.disposables.add(new DomEmitter(window, 'mousemove')).event;\n    }\n    get onPointerUp() {\n        return this.disposables.add(new DomEmitter(window, 'mouseup')).event;\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], MouseEventFactory.prototype, \"onPointerMove\", null);\n__decorate([\n    memoize\n], MouseEventFactory.prototype, \"onPointerUp\", null);\nclass GestureEventFactory {\n    constructor(el) {\n        this.el = el;\n        this.disposables = new DisposableStore();\n    }\n    get onPointerMove() {\n        return this.disposables.add(new DomEmitter(this.el, EventType.Change)).event;\n    }\n    get onPointerUp() {\n        return this.disposables.add(new DomEmitter(this.el, EventType.End)).event;\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], GestureEventFactory.prototype, \"onPointerMove\", null);\n__decorate([\n    memoize\n], GestureEventFactory.prototype, \"onPointerUp\", null);\nclass OrthogonalPointerEventFactory {\n    constructor(factory) {\n        this.factory = factory;\n    }\n    get onPointerMove() {\n        return this.factory.onPointerMove;\n    }\n    get onPointerUp() {\n        return this.factory.onPointerUp;\n    }\n    dispose() {\n        // noop\n    }\n}\n__decorate([\n    memoize\n], OrthogonalPointerEventFactory.prototype, \"onPointerMove\", null);\n__decorate([\n    memoize\n], OrthogonalPointerEventFactory.prototype, \"onPointerUp\", null);\nconst PointerEventsDisabledCssClass = 'pointer-events-disabled';\n/**\n * The {@link Sash} is the UI component which allows the user to resize other\n * components. It's usually an invisible horizontal or vertical line which, when\n * hovered, becomes highlighted and can be dragged along the perpendicular dimension\n * to its direction.\n *\n * Features:\n * - Touch event handling\n * - Corner sash support\n * - Hover with different mouse cursor support\n * - Configurable hover size\n * - Linked sash support, for 2x2 corner sashes\n */\nexport class Sash extends Disposable {\n    constructor(container, layoutProvider, options) {\n        super();\n        this.hoverDelay = globalHoverDelay;\n        this.hoverDelayer = this._register(new Delayer(this.hoverDelay));\n        this._state = 3 /* Enabled */;\n        this.onDidEnablementChange = this._register(new Emitter());\n        this._onDidStart = this._register(new Emitter());\n        this._onDidChange = this._register(new Emitter());\n        this._onDidReset = this._register(new Emitter());\n        this._onDidEnd = this._register(new Emitter());\n        this.orthogonalStartSashDisposables = this._register(new DisposableStore());\n        this.orthogonalStartDragHandleDisposables = this._register(new DisposableStore());\n        this.orthogonalEndSashDisposables = this._register(new DisposableStore());\n        this.orthogonalEndDragHandleDisposables = this._register(new DisposableStore());\n        /**\n         * An event which fires whenever the user starts dragging this sash.\n         */\n        this.onDidStart = this._onDidStart.event;\n        /**\n         * An event which fires whenever the user moves the mouse while\n         * dragging this sash.\n         */\n        this.onDidChange = this._onDidChange.event;\n        /**\n         * An event which fires whenever the user double clicks this sash.\n         */\n        this.onDidReset = this._onDidReset.event;\n        /**\n         * An event which fires whenever the user stops dragging this sash.\n         */\n        this.onDidEnd = this._onDidEnd.event;\n        /**\n         * A linked sash will be forwarded the same user interactions and events\n         * so it moves exactly the same way as this sash.\n         *\n         * Useful in 2x2 grids. Not meant for widespread usage.\n         */\n        this.linkedSash = undefined;\n        this.el = append(container, $('.monaco-sash'));\n        if (options.orthogonalEdge) {\n            this.el.classList.add(`orthogonal-edge-${options.orthogonalEdge}`);\n        }\n        if (isMacintosh) {\n            this.el.classList.add('mac');\n        }\n        const onMouseDown = this._register(new DomEmitter(this.el, 'mousedown')).event;\n        this._register(onMouseDown(e => this.onPointerStart(e, new MouseEventFactory()), this));\n        const onMouseDoubleClick = this._register(new DomEmitter(this.el, 'dblclick')).event;\n        this._register(onMouseDoubleClick(this.onPointerDoublePress, this));\n        const onMouseEnter = this._register(new DomEmitter(this.el, 'mouseenter')).event;\n        this._register(onMouseEnter(() => Sash.onMouseEnter(this)));\n        const onMouseLeave = this._register(new DomEmitter(this.el, 'mouseleave')).event;\n        this._register(onMouseLeave(() => Sash.onMouseLeave(this)));\n        this._register(Gesture.addTarget(this.el));\n        const onTouchStart = Event.map(this._register(new DomEmitter(this.el, EventType.Start)).event, e => { var _a; return (Object.assign(Object.assign({}, e), { target: (_a = e.initialTarget) !== null && _a !== void 0 ? _a : null })); });\n        this._register(onTouchStart(e => this.onPointerStart(e, new GestureEventFactory(this.el)), this));\n        const onTap = this._register(new DomEmitter(this.el, EventType.Tap)).event;\n        const onDoubleTap = Event.map(Event.filter(Event.debounce(onTap, (res, event) => { var _a; return ({ event, count: ((_a = res === null || res === void 0 ? void 0 : res.count) !== null && _a !== void 0 ? _a : 0) + 1 }); }, 250), ({ count }) => count === 2), ({ event }) => { var _a; return (Object.assign(Object.assign({}, event), { target: (_a = event.initialTarget) !== null && _a !== void 0 ? _a : null })); });\n        this._register(onDoubleTap(this.onPointerDoublePress, this));\n        if (typeof options.size === 'number') {\n            this.size = options.size;\n            if (options.orientation === 0 /* VERTICAL */) {\n                this.el.style.width = `${this.size}px`;\n            }\n            else {\n                this.el.style.height = `${this.size}px`;\n            }\n        }\n        else {\n            this.size = globalSize;\n            this._register(onDidChangeGlobalSize.event(size => {\n                this.size = size;\n                this.layout();\n            }));\n        }\n        this._register(onDidChangeHoverDelay.event(delay => this.hoverDelay = delay));\n        this.layoutProvider = layoutProvider;\n        this.orthogonalStartSash = options.orthogonalStartSash;\n        this.orthogonalEndSash = options.orthogonalEndSash;\n        this.orientation = options.orientation || 0 /* VERTICAL */;\n        if (this.orientation === 1 /* HORIZONTAL */) {\n            this.el.classList.add('horizontal');\n            this.el.classList.remove('vertical');\n        }\n        else {\n            this.el.classList.remove('horizontal');\n            this.el.classList.add('vertical');\n        }\n        this.el.classList.toggle('debug', DEBUG);\n        this.layout();\n    }\n    get state() { return this._state; }\n    get orthogonalStartSash() { return this._orthogonalStartSash; }\n    get orthogonalEndSash() { return this._orthogonalEndSash; }\n    /**\n     * The state of a sash defines whether it can be interacted with by the user\n     * as well as what mouse cursor to use, when hovered.\n     */\n    set state(state) {\n        if (this._state === state) {\n            return;\n        }\n        this.el.classList.toggle('disabled', state === 0 /* Disabled */);\n        this.el.classList.toggle('minimum', state === 1 /* AtMinimum */);\n        this.el.classList.toggle('maximum', state === 2 /* AtMaximum */);\n        this._state = state;\n        this.onDidEnablementChange.fire(state);\n    }\n    /**\n     * A reference to another sash, perpendicular to this one, which\n     * aligns at the start of this one. A corner sash will be created\n     * automatically at that location.\n     *\n     * The start of a horizontal sash is its left-most position.\n     * The start of a vertical sash is its top-most position.\n     */\n    set orthogonalStartSash(sash) {\n        this.orthogonalStartDragHandleDisposables.clear();\n        this.orthogonalStartSashDisposables.clear();\n        if (sash) {\n            const onChange = (state) => {\n                this.orthogonalStartDragHandleDisposables.clear();\n                if (state !== 0 /* Disabled */) {\n                    this._orthogonalStartDragHandle = append(this.el, $('.orthogonal-drag-handle.start'));\n                    this.orthogonalStartDragHandleDisposables.add(toDisposable(() => this._orthogonalStartDragHandle.remove()));\n                    this.orthogonalStartDragHandleDisposables.add(new DomEmitter(this._orthogonalStartDragHandle, 'mouseenter')).event(() => Sash.onMouseEnter(sash), undefined, this.orthogonalStartDragHandleDisposables);\n                    this.orthogonalStartDragHandleDisposables.add(new DomEmitter(this._orthogonalStartDragHandle, 'mouseleave')).event(() => Sash.onMouseLeave(sash), undefined, this.orthogonalStartDragHandleDisposables);\n                }\n            };\n            this.orthogonalStartSashDisposables.add(sash.onDidEnablementChange.event(onChange, this));\n            onChange(sash.state);\n        }\n        this._orthogonalStartSash = sash;\n    }\n    /**\n     * A reference to another sash, perpendicular to this one, which\n     * aligns at the end of this one. A corner sash will be created\n     * automatically at that location.\n     *\n     * The end of a horizontal sash is its right-most position.\n     * The end of a vertical sash is its bottom-most position.\n     */\n    set orthogonalEndSash(sash) {\n        this.orthogonalEndDragHandleDisposables.clear();\n        this.orthogonalEndSashDisposables.clear();\n        if (sash) {\n            const onChange = (state) => {\n                this.orthogonalEndDragHandleDisposables.clear();\n                if (state !== 0 /* Disabled */) {\n                    this._orthogonalEndDragHandle = append(this.el, $('.orthogonal-drag-handle.end'));\n                    this.orthogonalEndDragHandleDisposables.add(toDisposable(() => this._orthogonalEndDragHandle.remove()));\n                    this.orthogonalEndDragHandleDisposables.add(new DomEmitter(this._orthogonalEndDragHandle, 'mouseenter')).event(() => Sash.onMouseEnter(sash), undefined, this.orthogonalEndDragHandleDisposables);\n                    this.orthogonalEndDragHandleDisposables.add(new DomEmitter(this._orthogonalEndDragHandle, 'mouseleave')).event(() => Sash.onMouseLeave(sash), undefined, this.orthogonalEndDragHandleDisposables);\n                }\n            };\n            this.orthogonalEndSashDisposables.add(sash.onDidEnablementChange.event(onChange, this));\n            onChange(sash.state);\n        }\n        this._orthogonalEndSash = sash;\n    }\n    onPointerStart(event, pointerEventFactory) {\n        EventHelper.stop(event);\n        let isMultisashResize = false;\n        if (!event.__orthogonalSashEvent) {\n            const orthogonalSash = this.getOrthogonalSash(event);\n            if (orthogonalSash) {\n                isMultisashResize = true;\n                event.__orthogonalSashEvent = true;\n                orthogonalSash.onPointerStart(event, new OrthogonalPointerEventFactory(pointerEventFactory));\n            }\n        }\n        if (this.linkedSash && !event.__linkedSashEvent) {\n            event.__linkedSashEvent = true;\n            this.linkedSash.onPointerStart(event, new OrthogonalPointerEventFactory(pointerEventFactory));\n        }\n        if (!this.state) {\n            return;\n        }\n        const iframes = getElementsByTagName('iframe');\n        for (const iframe of iframes) {\n            iframe.classList.add(PointerEventsDisabledCssClass); // disable mouse events on iframes as long as we drag the sash\n        }\n        const startX = event.pageX;\n        const startY = event.pageY;\n        const altKey = event.altKey;\n        const startEvent = { startX, currentX: startX, startY, currentY: startY, altKey };\n        this.el.classList.add('active');\n        this._onDidStart.fire(startEvent);\n        // fix https://github.com/microsoft/vscode/issues/21675\n        const style = createStyleSheet(this.el);\n        const updateStyle = () => {\n            let cursor = '';\n            if (isMultisashResize) {\n                cursor = 'all-scroll';\n            }\n            else if (this.orientation === 1 /* HORIZONTAL */) {\n                if (this.state === 1 /* AtMinimum */) {\n                    cursor = 's-resize';\n                }\n                else if (this.state === 2 /* AtMaximum */) {\n                    cursor = 'n-resize';\n                }\n                else {\n                    cursor = isMacintosh ? 'row-resize' : 'ns-resize';\n                }\n            }\n            else {\n                if (this.state === 1 /* AtMinimum */) {\n                    cursor = 'e-resize';\n                }\n                else if (this.state === 2 /* AtMaximum */) {\n                    cursor = 'w-resize';\n                }\n                else {\n                    cursor = isMacintosh ? 'col-resize' : 'ew-resize';\n                }\n            }\n            style.textContent = `* { cursor: ${cursor} !important; }`;\n        };\n        const disposables = new DisposableStore();\n        updateStyle();\n        if (!isMultisashResize) {\n            this.onDidEnablementChange.event(updateStyle, null, disposables);\n        }\n        const onPointerMove = (e) => {\n            EventHelper.stop(e, false);\n            const event = { startX, currentX: e.pageX, startY, currentY: e.pageY, altKey };\n            this._onDidChange.fire(event);\n        };\n        const onPointerUp = (e) => {\n            EventHelper.stop(e, false);\n            this.el.removeChild(style);\n            this.el.classList.remove('active');\n            this._onDidEnd.fire();\n            disposables.dispose();\n            for (const iframe of iframes) {\n                iframe.classList.remove(PointerEventsDisabledCssClass);\n            }\n        };\n        pointerEventFactory.onPointerMove(onPointerMove, null, disposables);\n        pointerEventFactory.onPointerUp(onPointerUp, null, disposables);\n        disposables.add(pointerEventFactory);\n    }\n    onPointerDoublePress(e) {\n        const orthogonalSash = this.getOrthogonalSash(e);\n        if (orthogonalSash) {\n            orthogonalSash._onDidReset.fire();\n        }\n        if (this.linkedSash) {\n            this.linkedSash._onDidReset.fire();\n        }\n        this._onDidReset.fire();\n    }\n    static onMouseEnter(sash, fromLinkedSash = false) {\n        if (sash.el.classList.contains('active')) {\n            sash.hoverDelayer.cancel();\n            sash.el.classList.add('hover');\n        }\n        else {\n            sash.hoverDelayer.trigger(() => sash.el.classList.add('hover'), sash.hoverDelay).then(undefined, () => { });\n        }\n        if (!fromLinkedSash && sash.linkedSash) {\n            Sash.onMouseEnter(sash.linkedSash, true);\n        }\n    }\n    static onMouseLeave(sash, fromLinkedSash = false) {\n        sash.hoverDelayer.cancel();\n        sash.el.classList.remove('hover');\n        if (!fromLinkedSash && sash.linkedSash) {\n            Sash.onMouseLeave(sash.linkedSash, true);\n        }\n    }\n    /**\n     * Forcefully stop any user interactions with this sash.\n     * Useful when hiding a parent component, while the user is still\n     * interacting with the sash.\n     */\n    clearSashHoverState() {\n        Sash.onMouseLeave(this);\n    }\n    /**\n     * Layout the sash. The sash will size and position itself\n     * based on its provided {@link ISashLayoutProvider layout provider}.\n     */\n    layout() {\n        if (this.orientation === 0 /* VERTICAL */) {\n            const verticalProvider = this.layoutProvider;\n            this.el.style.left = verticalProvider.getVerticalSashLeft(this) - (this.size / 2) + 'px';\n            if (verticalProvider.getVerticalSashTop) {\n                this.el.style.top = verticalProvider.getVerticalSashTop(this) + 'px';\n            }\n            if (verticalProvider.getVerticalSashHeight) {\n                this.el.style.height = verticalProvider.getVerticalSashHeight(this) + 'px';\n            }\n        }\n        else {\n            const horizontalProvider = this.layoutProvider;\n            this.el.style.top = horizontalProvider.getHorizontalSashTop(this) - (this.size / 2) + 'px';\n            if (horizontalProvider.getHorizontalSashLeft) {\n                this.el.style.left = horizontalProvider.getHorizontalSashLeft(this) + 'px';\n            }\n            if (horizontalProvider.getHorizontalSashWidth) {\n                this.el.style.width = horizontalProvider.getHorizontalSashWidth(this) + 'px';\n            }\n        }\n    }\n    getOrthogonalSash(e) {\n        if (!e.target || !(e.target instanceof HTMLElement)) {\n            return undefined;\n        }\n        if (e.target.classList.contains('orthogonal-drag-handle')) {\n            return e.target.classList.contains('start') ? this.orthogonalStartSash : this.orthogonalEndSash;\n        }\n        return undefined;\n    }\n    dispose() {\n        super.dispose();\n        this.el.remove();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}