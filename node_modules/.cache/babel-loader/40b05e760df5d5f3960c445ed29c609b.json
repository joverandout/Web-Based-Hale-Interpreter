{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { range } from '../../../common/arrays.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './list.css';\nimport { List } from './listWidget.js';\n\nclass PagedRenderer {\n  constructor(renderer, modelProvider) {\n    this.renderer = renderer;\n    this.modelProvider = modelProvider;\n  }\n\n  get templateId() {\n    return this.renderer.templateId;\n  }\n\n  renderTemplate(container) {\n    const data = this.renderer.renderTemplate(container);\n    return {\n      data,\n      disposable: Disposable.None\n    };\n  }\n\n  renderElement(index, _, data, height) {\n    if (data.disposable) {\n      data.disposable.dispose();\n    }\n\n    if (!data.data) {\n      return;\n    }\n\n    const model = this.modelProvider();\n\n    if (model.isResolved(index)) {\n      return this.renderer.renderElement(model.get(index), index, data.data, height);\n    }\n\n    const cts = new CancellationTokenSource();\n    const promise = model.resolve(index, cts.token);\n    data.disposable = {\n      dispose: () => cts.cancel()\n    };\n    this.renderer.renderPlaceholder(index, data.data);\n    promise.then(entry => this.renderer.renderElement(entry, index, data.data, height));\n  }\n\n  disposeTemplate(data) {\n    if (data.disposable) {\n      data.disposable.dispose();\n      data.disposable = undefined;\n    }\n\n    if (data.data) {\n      this.renderer.disposeTemplate(data.data);\n      data.data = undefined;\n    }\n  }\n\n}\n\nclass PagedAccessibilityProvider {\n  constructor(modelProvider, accessibilityProvider) {\n    this.modelProvider = modelProvider;\n    this.accessibilityProvider = accessibilityProvider;\n  }\n\n  getWidgetAriaLabel() {\n    return this.accessibilityProvider.getWidgetAriaLabel();\n  }\n\n  getAriaLabel(index) {\n    const model = this.modelProvider();\n\n    if (!model.isResolved(index)) {\n      return null;\n    }\n\n    return this.accessibilityProvider.getAriaLabel(model.get(index));\n  }\n\n}\n\nfunction fromPagedListOptions(modelProvider, options) {\n  return Object.assign(Object.assign({}, options), {\n    accessibilityProvider: options.accessibilityProvider && new PagedAccessibilityProvider(modelProvider, options.accessibilityProvider)\n  });\n}\n\nexport class PagedList {\n  constructor(user, container, virtualDelegate, renderers, options = {}) {\n    const modelProvider = () => this.model;\n\n    const pagedRenderers = renderers.map(r => new PagedRenderer(r, modelProvider));\n    this.list = new List(user, container, virtualDelegate, pagedRenderers, fromPagedListOptions(modelProvider, options));\n  }\n\n  updateOptions(options) {\n    this.list.updateOptions(options);\n  }\n\n  getHTMLElement() {\n    return this.list.getHTMLElement();\n  }\n\n  get onDidFocus() {\n    return this.list.onDidFocus;\n  }\n\n  get onDidDispose() {\n    return this.list.onDidDispose;\n  }\n\n  get onMouseDblClick() {\n    return Event.map(this.list.onMouseDblClick, ({\n      element,\n      index,\n      browserEvent\n    }) => ({\n      element: element === undefined ? undefined : this._model.get(element),\n      index,\n      browserEvent\n    }));\n  }\n\n  get onPointer() {\n    return Event.map(this.list.onPointer, ({\n      element,\n      index,\n      browserEvent\n    }) => ({\n      element: element === undefined ? undefined : this._model.get(element),\n      index,\n      browserEvent\n    }));\n  }\n\n  get onDidChangeSelection() {\n    return Event.map(this.list.onDidChangeSelection, ({\n      elements,\n      indexes,\n      browserEvent\n    }) => ({\n      elements: elements.map(e => this._model.get(e)),\n      indexes,\n      browserEvent\n    }));\n  }\n\n  get model() {\n    return this._model;\n  }\n\n  set model(model) {\n    this._model = model;\n    this.list.splice(0, this.list.length, range(model.length));\n  }\n\n  getFocus() {\n    return this.list.getFocus();\n  }\n\n  getSelection() {\n    return this.list.getSelection();\n  }\n\n  getSelectedElements() {\n    return this.getSelection().map(i => this.model.get(i));\n  }\n\n  style(styles) {\n    this.list.style(styles);\n  }\n\n  dispose() {\n    this.list.dispose();\n  }\n\n}","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listPaging.js"],"names":["range","CancellationTokenSource","Event","Disposable","List","PagedRenderer","constructor","renderer","modelProvider","templateId","renderTemplate","container","data","disposable","None","renderElement","index","_","height","dispose","model","isResolved","get","cts","promise","resolve","token","cancel","renderPlaceholder","then","entry","disposeTemplate","undefined","PagedAccessibilityProvider","accessibilityProvider","getWidgetAriaLabel","getAriaLabel","fromPagedListOptions","options","Object","assign","PagedList","user","virtualDelegate","renderers","pagedRenderers","map","r","list","updateOptions","getHTMLElement","onDidFocus","onDidDispose","onMouseDblClick","element","browserEvent","_model","onPointer","onDidChangeSelection","elements","indexes","e","splice","length","getFocus","getSelection","getSelectedElements","i","style","styles"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { range } from '../../../common/arrays.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './list.css';\nimport { List } from './listWidget.js';\nclass PagedRenderer {\n    constructor(renderer, modelProvider) {\n        this.renderer = renderer;\n        this.modelProvider = modelProvider;\n    }\n    get templateId() { return this.renderer.templateId; }\n    renderTemplate(container) {\n        const data = this.renderer.renderTemplate(container);\n        return { data, disposable: Disposable.None };\n    }\n    renderElement(index, _, data, height) {\n        if (data.disposable) {\n            data.disposable.dispose();\n        }\n        if (!data.data) {\n            return;\n        }\n        const model = this.modelProvider();\n        if (model.isResolved(index)) {\n            return this.renderer.renderElement(model.get(index), index, data.data, height);\n        }\n        const cts = new CancellationTokenSource();\n        const promise = model.resolve(index, cts.token);\n        data.disposable = { dispose: () => cts.cancel() };\n        this.renderer.renderPlaceholder(index, data.data);\n        promise.then(entry => this.renderer.renderElement(entry, index, data.data, height));\n    }\n    disposeTemplate(data) {\n        if (data.disposable) {\n            data.disposable.dispose();\n            data.disposable = undefined;\n        }\n        if (data.data) {\n            this.renderer.disposeTemplate(data.data);\n            data.data = undefined;\n        }\n    }\n}\nclass PagedAccessibilityProvider {\n    constructor(modelProvider, accessibilityProvider) {\n        this.modelProvider = modelProvider;\n        this.accessibilityProvider = accessibilityProvider;\n    }\n    getWidgetAriaLabel() {\n        return this.accessibilityProvider.getWidgetAriaLabel();\n    }\n    getAriaLabel(index) {\n        const model = this.modelProvider();\n        if (!model.isResolved(index)) {\n            return null;\n        }\n        return this.accessibilityProvider.getAriaLabel(model.get(index));\n    }\n}\nfunction fromPagedListOptions(modelProvider, options) {\n    return Object.assign(Object.assign({}, options), { accessibilityProvider: options.accessibilityProvider && new PagedAccessibilityProvider(modelProvider, options.accessibilityProvider) });\n}\nexport class PagedList {\n    constructor(user, container, virtualDelegate, renderers, options = {}) {\n        const modelProvider = () => this.model;\n        const pagedRenderers = renderers.map(r => new PagedRenderer(r, modelProvider));\n        this.list = new List(user, container, virtualDelegate, pagedRenderers, fromPagedListOptions(modelProvider, options));\n    }\n    updateOptions(options) {\n        this.list.updateOptions(options);\n    }\n    getHTMLElement() {\n        return this.list.getHTMLElement();\n    }\n    get onDidFocus() {\n        return this.list.onDidFocus;\n    }\n    get onDidDispose() {\n        return this.list.onDidDispose;\n    }\n    get onMouseDblClick() {\n        return Event.map(this.list.onMouseDblClick, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onPointer() {\n        return Event.map(this.list.onPointer, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, ({ elements, indexes, browserEvent }) => ({ elements: elements.map(e => this._model.get(e)), indexes, browserEvent }));\n    }\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this._model = model;\n        this.list.splice(0, this.list.length, range(model.length));\n    }\n    getFocus() {\n        return this.list.getFocus();\n    }\n    getSelection() {\n        return this.list.getSelection();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.model.get(i));\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    dispose() {\n        this.list.dispose();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}