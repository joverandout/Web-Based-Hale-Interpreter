{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport './anchorSelect.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const SelectionAnchorSet = new RawContextKey('selectionAnchorSet', false);\nlet SelectionAnchorController = class SelectionAnchorController {\n  constructor(editor, contextKeyService) {\n    this.editor = editor;\n    this.selectionAnchorSetContextKey = SelectionAnchorSet.bindTo(contextKeyService);\n    this.modelChangeListener = editor.onDidChangeModel(() => this.selectionAnchorSetContextKey.reset());\n  }\n\n  static get(editor) {\n    return editor.getContribution(SelectionAnchorController.ID);\n  }\n\n  setSelectionAnchor() {\n    if (this.editor.hasModel()) {\n      const position = this.editor.getPosition();\n      const previousDecorations = this.decorationId ? [this.decorationId] : [];\n      const newDecorationId = this.editor.deltaDecorations(previousDecorations, [{\n        range: Selection.fromPositions(position, position),\n        options: {\n          description: 'selection-anchor',\n          stickiness: 1\n          /* NeverGrowsWhenTypingAtEdges */\n          ,\n          hoverMessage: new MarkdownString().appendText(localize('selectionAnchor', \"Selection Anchor\")),\n          className: 'selection-anchor'\n        }\n      }]);\n      this.decorationId = newDecorationId[0];\n      this.selectionAnchorSetContextKey.set(!!this.decorationId);\n      alert(localize('anchorSet', \"Anchor set at {0}:{1}\", position.lineNumber, position.column));\n    }\n  }\n\n  goToSelectionAnchor() {\n    if (this.editor.hasModel() && this.decorationId) {\n      const anchorPosition = this.editor.getModel().getDecorationRange(this.decorationId);\n\n      if (anchorPosition) {\n        this.editor.setPosition(anchorPosition.getStartPosition());\n      }\n    }\n  }\n\n  selectFromAnchorToCursor() {\n    if (this.editor.hasModel() && this.decorationId) {\n      const start = this.editor.getModel().getDecorationRange(this.decorationId);\n\n      if (start) {\n        const end = this.editor.getPosition();\n        this.editor.setSelection(Selection.fromPositions(start.getStartPosition(), end));\n        this.cancelSelectionAnchor();\n      }\n    }\n  }\n\n  cancelSelectionAnchor() {\n    if (this.decorationId) {\n      this.editor.deltaDecorations([this.decorationId], []);\n      this.decorationId = undefined;\n      this.selectionAnchorSetContextKey.set(false);\n    }\n  }\n\n  dispose() {\n    this.cancelSelectionAnchor();\n    this.modelChangeListener.dispose();\n  }\n\n};\nSelectionAnchorController.ID = 'editor.contrib.selectionAnchorController';\nSelectionAnchorController = __decorate([__param(1, IContextKeyService)], SelectionAnchorController);\n\nclass SetSelectionAnchor extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.setSelectionAnchor',\n      label: localize('setSelectionAnchor', \"Set Selection Anchor\"),\n      alias: 'Set Selection Anchor',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: KeyChord(2048\n        /* CtrlCmd */\n        | 41\n        /* KeyK */\n        , 2048\n        /* CtrlCmd */\n        | 32\n        /* KeyB */\n        ),\n        weight: 100\n        /* EditorContrib */\n\n      }\n    });\n  }\n\n  run(_accessor, editor) {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.setSelectionAnchor();\n    });\n  }\n\n}\n\nclass GoToSelectionAnchor extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.goToSelectionAnchor',\n      label: localize('goToSelectionAnchor', \"Go to Selection Anchor\"),\n      alias: 'Go to Selection Anchor',\n      precondition: SelectionAnchorSet\n    });\n  }\n\n  run(_accessor, editor) {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.goToSelectionAnchor();\n    });\n  }\n\n}\n\nclass SelectFromAnchorToCursor extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.selectFromAnchorToCursor',\n      label: localize('selectFromAnchorToCursor', \"Select from Anchor to Cursor\"),\n      alias: 'Select from Anchor to Cursor',\n      precondition: SelectionAnchorSet,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: KeyChord(2048\n        /* CtrlCmd */\n        | 41\n        /* KeyK */\n        , 2048\n        /* CtrlCmd */\n        | 41\n        /* KeyK */\n        ),\n        weight: 100\n        /* EditorContrib */\n\n      }\n    });\n  }\n\n  run(_accessor, editor) {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.selectFromAnchorToCursor();\n    });\n  }\n\n}\n\nclass CancelSelectionAnchor extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.cancelSelectionAnchor',\n      label: localize('cancelSelectionAnchor', \"Cancel Selection Anchor\"),\n      alias: 'Cancel Selection Anchor',\n      precondition: SelectionAnchorSet,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 9\n        /* Escape */\n        ,\n        weight: 100\n        /* EditorContrib */\n\n      }\n    });\n  }\n\n  run(_accessor, editor) {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.cancelSelectionAnchor();\n    });\n  }\n\n}\n\nregisterEditorContribution(SelectionAnchorController.ID, SelectionAnchorController);\nregisterEditorAction(SetSelectionAnchor);\nregisterEditorAction(GoToSelectionAnchor);\nregisterEditorAction(SelectFromAnchorToCursor);\nregisterEditorAction(CancelSelectionAnchor);","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/editor/contrib/anchorSelect/browser/anchorSelect.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","alert","MarkdownString","KeyChord","EditorAction","registerEditorAction","registerEditorContribution","Selection","EditorContextKeys","localize","IContextKeyService","RawContextKey","SelectionAnchorSet","SelectionAnchorController","constructor","editor","contextKeyService","selectionAnchorSetContextKey","bindTo","modelChangeListener","onDidChangeModel","reset","get","getContribution","ID","setSelectionAnchor","hasModel","position","getPosition","previousDecorations","decorationId","newDecorationId","deltaDecorations","range","fromPositions","options","description","stickiness","hoverMessage","appendText","className","set","lineNumber","column","goToSelectionAnchor","anchorPosition","getModel","getDecorationRange","setPosition","getStartPosition","selectFromAnchorToCursor","start","end","setSelection","cancelSelectionAnchor","undefined","dispose","SetSelectionAnchor","id","label","alias","precondition","kbOpts","kbExpr","editorTextFocus","primary","weight","run","_accessor","_a","GoToSelectionAnchor","SelectFromAnchorToCursor","CancelSelectionAnchor"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport './anchorSelect.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const SelectionAnchorSet = new RawContextKey('selectionAnchorSet', false);\nlet SelectionAnchorController = class SelectionAnchorController {\n    constructor(editor, contextKeyService) {\n        this.editor = editor;\n        this.selectionAnchorSetContextKey = SelectionAnchorSet.bindTo(contextKeyService);\n        this.modelChangeListener = editor.onDidChangeModel(() => this.selectionAnchorSetContextKey.reset());\n    }\n    static get(editor) {\n        return editor.getContribution(SelectionAnchorController.ID);\n    }\n    setSelectionAnchor() {\n        if (this.editor.hasModel()) {\n            const position = this.editor.getPosition();\n            const previousDecorations = this.decorationId ? [this.decorationId] : [];\n            const newDecorationId = this.editor.deltaDecorations(previousDecorations, [{\n                    range: Selection.fromPositions(position, position),\n                    options: {\n                        description: 'selection-anchor',\n                        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n                        hoverMessage: new MarkdownString().appendText(localize('selectionAnchor', \"Selection Anchor\")),\n                        className: 'selection-anchor'\n                    }\n                }]);\n            this.decorationId = newDecorationId[0];\n            this.selectionAnchorSetContextKey.set(!!this.decorationId);\n            alert(localize('anchorSet', \"Anchor set at {0}:{1}\", position.lineNumber, position.column));\n        }\n    }\n    goToSelectionAnchor() {\n        if (this.editor.hasModel() && this.decorationId) {\n            const anchorPosition = this.editor.getModel().getDecorationRange(this.decorationId);\n            if (anchorPosition) {\n                this.editor.setPosition(anchorPosition.getStartPosition());\n            }\n        }\n    }\n    selectFromAnchorToCursor() {\n        if (this.editor.hasModel() && this.decorationId) {\n            const start = this.editor.getModel().getDecorationRange(this.decorationId);\n            if (start) {\n                const end = this.editor.getPosition();\n                this.editor.setSelection(Selection.fromPositions(start.getStartPosition(), end));\n                this.cancelSelectionAnchor();\n            }\n        }\n    }\n    cancelSelectionAnchor() {\n        if (this.decorationId) {\n            this.editor.deltaDecorations([this.decorationId], []);\n            this.decorationId = undefined;\n            this.selectionAnchorSetContextKey.set(false);\n        }\n    }\n    dispose() {\n        this.cancelSelectionAnchor();\n        this.modelChangeListener.dispose();\n    }\n};\nSelectionAnchorController.ID = 'editor.contrib.selectionAnchorController';\nSelectionAnchorController = __decorate([\n    __param(1, IContextKeyService)\n], SelectionAnchorController);\nclass SetSelectionAnchor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.setSelectionAnchor',\n            label: localize('setSelectionAnchor', \"Set Selection Anchor\"),\n            alias: 'Set Selection Anchor',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KeyK */, 2048 /* CtrlCmd */ | 32 /* KeyB */),\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    run(_accessor, editor) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.setSelectionAnchor();\n        });\n    }\n}\nclass GoToSelectionAnchor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToSelectionAnchor',\n            label: localize('goToSelectionAnchor', \"Go to Selection Anchor\"),\n            alias: 'Go to Selection Anchor',\n            precondition: SelectionAnchorSet,\n        });\n    }\n    run(_accessor, editor) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.goToSelectionAnchor();\n        });\n    }\n}\nclass SelectFromAnchorToCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.selectFromAnchorToCursor',\n            label: localize('selectFromAnchorToCursor', \"Select from Anchor to Cursor\"),\n            alias: 'Select from Anchor to Cursor',\n            precondition: SelectionAnchorSet,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KeyK */, 2048 /* CtrlCmd */ | 41 /* KeyK */),\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    run(_accessor, editor) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.selectFromAnchorToCursor();\n        });\n    }\n}\nclass CancelSelectionAnchor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.cancelSelectionAnchor',\n            label: localize('cancelSelectionAnchor', \"Cancel Selection Anchor\"),\n            alias: 'Cancel Selection Anchor',\n            precondition: SelectionAnchorSet,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 9 /* Escape */,\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    run(_accessor, editor) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            (_a = SelectionAnchorController.get(editor)) === null || _a === void 0 ? void 0 : _a.cancelSelectionAnchor();\n        });\n    }\n}\nregisterEditorContribution(SelectionAnchorController.ID, SelectionAnchorController);\nregisterEditorAction(SetSelectionAnchor);\nregisterEditorAction(GoToSelectionAnchor);\nregisterEditorAction(SelectFromAnchorToCursor);\nregisterEditorAction(CancelSelectionAnchor);\n"]},"metadata":{},"sourceType":"module"}