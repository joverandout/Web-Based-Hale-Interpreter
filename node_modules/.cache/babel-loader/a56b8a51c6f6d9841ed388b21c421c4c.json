{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { Codicon, CSSIcon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { localize } from '../../../nls.js';\nimport { Extensions as JSONExtensions } from '../../jsonschemas/common/jsonContributionRegistry.js';\nimport * as platform from '../../registry/common/platform.js';\nimport { ThemeIcon } from './themeService.js'; // icon registry\n\nexport const Extensions = {\n  IconContribution: 'base.contributions.icons'\n};\nexport var IconContribution;\n\n(function (IconContribution) {\n  function getDefinition(contribution, registry) {\n    let definition = contribution.defaults;\n\n    while (ThemeIcon.isThemeIcon(definition)) {\n      const c = iconRegistry.getIcon(definition.id);\n\n      if (!c) {\n        return undefined;\n      }\n\n      definition = c.defaults;\n    }\n\n    return definition;\n  }\n\n  IconContribution.getDefinition = getDefinition;\n})(IconContribution || (IconContribution = {}));\n\nclass IconRegistry {\n  constructor() {\n    this._onDidChange = new Emitter();\n    this.onDidChange = this._onDidChange.event;\n    this.iconSchema = {\n      definitions: {\n        icons: {\n          type: 'object',\n          properties: {\n            fontId: {\n              type: 'string',\n              description: localize('iconDefintion.fontId', 'The id of the font to use. If not set, the font that is defined first is used.')\n            },\n            fontCharacter: {\n              type: 'string',\n              description: localize('iconDefintion.fontCharacter', 'The font character associated with the icon definition.')\n            }\n          },\n          additionalProperties: false,\n          defaultSnippets: [{\n            body: {\n              fontCharacter: '\\\\\\\\e030'\n            }\n          }]\n        }\n      },\n      type: 'object',\n      properties: {}\n    };\n    this.iconReferenceSchema = {\n      type: 'string',\n      pattern: `^${CSSIcon.iconNameExpression}$`,\n      enum: [],\n      enumDescriptions: []\n    };\n    this.iconsById = {};\n    this.iconFontsById = {};\n  }\n\n  registerIcon(id, defaults, description, deprecationMessage) {\n    const existing = this.iconsById[id];\n\n    if (existing) {\n      if (description && !existing.description) {\n        existing.description = description;\n        this.iconSchema.properties[id].markdownDescription = `${description} $(${id})`;\n        const enumIndex = this.iconReferenceSchema.enum.indexOf(id);\n\n        if (enumIndex !== -1) {\n          this.iconReferenceSchema.enumDescriptions[enumIndex] = description;\n        }\n\n        this._onDidChange.fire();\n      }\n\n      return existing;\n    }\n\n    let iconContribution = {\n      id,\n      description,\n      defaults,\n      deprecationMessage\n    };\n    this.iconsById[id] = iconContribution;\n    let propertySchema = {\n      $ref: '#/definitions/icons'\n    };\n\n    if (deprecationMessage) {\n      propertySchema.deprecationMessage = deprecationMessage;\n    }\n\n    if (description) {\n      propertySchema.markdownDescription = `${description}: $(${id})`;\n    }\n\n    this.iconSchema.properties[id] = propertySchema;\n    this.iconReferenceSchema.enum.push(id);\n    this.iconReferenceSchema.enumDescriptions.push(description || '');\n\n    this._onDidChange.fire();\n\n    return {\n      id\n    };\n  }\n\n  getIcons() {\n    return Object.keys(this.iconsById).map(id => this.iconsById[id]);\n  }\n\n  getIcon(id) {\n    return this.iconsById[id];\n  }\n\n  getIconSchema() {\n    return this.iconSchema;\n  }\n\n  toString() {\n    const sorter = (i1, i2) => {\n      return i1.id.localeCompare(i2.id);\n    };\n\n    const classNames = i => {\n      while (ThemeIcon.isThemeIcon(i.defaults)) {\n        i = this.iconsById[i.defaults.id];\n      }\n\n      return `codicon codicon-${i ? i.id : ''}`;\n    };\n\n    let reference = [];\n    reference.push(`| preview     | identifier                        | default codicon ID                | description`);\n    reference.push(`| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |`);\n    const contributions = Object.keys(this.iconsById).map(key => this.iconsById[key]);\n\n    for (const i of contributions.filter(i => !!i.description).sort(sorter)) {\n      reference.push(`|<i class=\"${classNames(i)}\"></i>|${i.id}|${ThemeIcon.isThemeIcon(i.defaults) ? i.defaults.id : i.id}|${i.description || ''}|`);\n    }\n\n    reference.push(`| preview     | identifier                        `);\n    reference.push(`| ----------- | --------------------------------- |`);\n\n    for (const i of contributions.filter(i => !ThemeIcon.isThemeIcon(i.defaults)).sort(sorter)) {\n      reference.push(`|<i class=\"${classNames(i)}\"></i>|${i.id}|`);\n    }\n\n    return reference.join('\\n');\n  }\n\n}\n\nconst iconRegistry = new IconRegistry();\nplatform.Registry.add(Extensions.IconContribution, iconRegistry);\nexport function registerIcon(id, defaults, description, deprecationMessage) {\n  return iconRegistry.registerIcon(id, defaults, description, deprecationMessage);\n}\nexport function getIconRegistry() {\n  return iconRegistry;\n}\n\nfunction initialize() {\n  for (const icon of Codicon.getAll()) {\n    iconRegistry.registerIcon(icon.id, icon.definition, icon.description);\n  }\n}\n\ninitialize();\nexport const iconsSchemaId = 'vscode://schemas/icons';\nlet schemaRegistry = platform.Registry.as(JSONExtensions.JSONContribution);\nschemaRegistry.registerSchema(iconsSchemaId, iconRegistry.getIconSchema());\nconst delayer = new RunOnceScheduler(() => schemaRegistry.notifySchemaChanged(iconsSchemaId), 200);\niconRegistry.onDidChange(() => {\n  if (!delayer.isScheduled()) {\n    delayer.schedule();\n  }\n}); //setTimeout(_ => console.log(iconRegistry.toString()), 5000);\n// common icons\n\nexport const widgetClose = registerIcon('widget-close', Codicon.close, localize('widgetClose', 'Icon for the close action in widgets.'));\nexport const gotoPreviousLocation = registerIcon('goto-previous-location', Codicon.arrowUp, localize('previousChangeIcon', 'Icon for goto previous editor location.'));\nexport const gotoNextLocation = registerIcon('goto-next-location', Codicon.arrowDown, localize('nextChangeIcon', 'Icon for goto next editor location.'));\nexport const syncing = ThemeIcon.modify(Codicon.sync, 'spin');\nexport const spinningLoading = ThemeIcon.modify(Codicon.loading, 'spin');","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/platform/theme/common/iconRegistry.js"],"names":["RunOnceScheduler","Codicon","CSSIcon","Emitter","localize","Extensions","JSONExtensions","platform","ThemeIcon","IconContribution","getDefinition","contribution","registry","definition","defaults","isThemeIcon","c","iconRegistry","getIcon","id","undefined","IconRegistry","constructor","_onDidChange","onDidChange","event","iconSchema","definitions","icons","type","properties","fontId","description","fontCharacter","additionalProperties","defaultSnippets","body","iconReferenceSchema","pattern","iconNameExpression","enum","enumDescriptions","iconsById","iconFontsById","registerIcon","deprecationMessage","existing","markdownDescription","enumIndex","indexOf","fire","iconContribution","propertySchema","$ref","push","getIcons","Object","keys","map","getIconSchema","toString","sorter","i1","i2","localeCompare","classNames","i","reference","contributions","key","filter","sort","join","Registry","add","getIconRegistry","initialize","icon","getAll","iconsSchemaId","schemaRegistry","as","JSONContribution","registerSchema","delayer","notifySchemaChanged","isScheduled","schedule","widgetClose","close","gotoPreviousLocation","arrowUp","gotoNextLocation","arrowDown","syncing","modify","sync","spinningLoading","loading"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { Codicon, CSSIcon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { localize } from '../../../nls.js';\nimport { Extensions as JSONExtensions } from '../../jsonschemas/common/jsonContributionRegistry.js';\nimport * as platform from '../../registry/common/platform.js';\nimport { ThemeIcon } from './themeService.js';\n// icon registry\nexport const Extensions = {\n    IconContribution: 'base.contributions.icons'\n};\nexport var IconContribution;\n(function (IconContribution) {\n    function getDefinition(contribution, registry) {\n        let definition = contribution.defaults;\n        while (ThemeIcon.isThemeIcon(definition)) {\n            const c = iconRegistry.getIcon(definition.id);\n            if (!c) {\n                return undefined;\n            }\n            definition = c.defaults;\n        }\n        return definition;\n    }\n    IconContribution.getDefinition = getDefinition;\n})(IconContribution || (IconContribution = {}));\nclass IconRegistry {\n    constructor() {\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this.iconSchema = {\n            definitions: {\n                icons: {\n                    type: 'object',\n                    properties: {\n                        fontId: { type: 'string', description: localize('iconDefintion.fontId', 'The id of the font to use. If not set, the font that is defined first is used.') },\n                        fontCharacter: { type: 'string', description: localize('iconDefintion.fontCharacter', 'The font character associated with the icon definition.') }\n                    },\n                    additionalProperties: false,\n                    defaultSnippets: [{ body: { fontCharacter: '\\\\\\\\e030' } }]\n                }\n            },\n            type: 'object',\n            properties: {}\n        };\n        this.iconReferenceSchema = { type: 'string', pattern: `^${CSSIcon.iconNameExpression}$`, enum: [], enumDescriptions: [] };\n        this.iconsById = {};\n        this.iconFontsById = {};\n    }\n    registerIcon(id, defaults, description, deprecationMessage) {\n        const existing = this.iconsById[id];\n        if (existing) {\n            if (description && !existing.description) {\n                existing.description = description;\n                this.iconSchema.properties[id].markdownDescription = `${description} $(${id})`;\n                const enumIndex = this.iconReferenceSchema.enum.indexOf(id);\n                if (enumIndex !== -1) {\n                    this.iconReferenceSchema.enumDescriptions[enumIndex] = description;\n                }\n                this._onDidChange.fire();\n            }\n            return existing;\n        }\n        let iconContribution = { id, description, defaults, deprecationMessage };\n        this.iconsById[id] = iconContribution;\n        let propertySchema = { $ref: '#/definitions/icons' };\n        if (deprecationMessage) {\n            propertySchema.deprecationMessage = deprecationMessage;\n        }\n        if (description) {\n            propertySchema.markdownDescription = `${description}: $(${id})`;\n        }\n        this.iconSchema.properties[id] = propertySchema;\n        this.iconReferenceSchema.enum.push(id);\n        this.iconReferenceSchema.enumDescriptions.push(description || '');\n        this._onDidChange.fire();\n        return { id };\n    }\n    getIcons() {\n        return Object.keys(this.iconsById).map(id => this.iconsById[id]);\n    }\n    getIcon(id) {\n        return this.iconsById[id];\n    }\n    getIconSchema() {\n        return this.iconSchema;\n    }\n    toString() {\n        const sorter = (i1, i2) => {\n            return i1.id.localeCompare(i2.id);\n        };\n        const classNames = (i) => {\n            while (ThemeIcon.isThemeIcon(i.defaults)) {\n                i = this.iconsById[i.defaults.id];\n            }\n            return `codicon codicon-${i ? i.id : ''}`;\n        };\n        let reference = [];\n        reference.push(`| preview     | identifier                        | default codicon ID                | description`);\n        reference.push(`| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |`);\n        const contributions = Object.keys(this.iconsById).map(key => this.iconsById[key]);\n        for (const i of contributions.filter(i => !!i.description).sort(sorter)) {\n            reference.push(`|<i class=\"${classNames(i)}\"></i>|${i.id}|${ThemeIcon.isThemeIcon(i.defaults) ? i.defaults.id : i.id}|${i.description || ''}|`);\n        }\n        reference.push(`| preview     | identifier                        `);\n        reference.push(`| ----------- | --------------------------------- |`);\n        for (const i of contributions.filter(i => !ThemeIcon.isThemeIcon(i.defaults)).sort(sorter)) {\n            reference.push(`|<i class=\"${classNames(i)}\"></i>|${i.id}|`);\n        }\n        return reference.join('\\n');\n    }\n}\nconst iconRegistry = new IconRegistry();\nplatform.Registry.add(Extensions.IconContribution, iconRegistry);\nexport function registerIcon(id, defaults, description, deprecationMessage) {\n    return iconRegistry.registerIcon(id, defaults, description, deprecationMessage);\n}\nexport function getIconRegistry() {\n    return iconRegistry;\n}\nfunction initialize() {\n    for (const icon of Codicon.getAll()) {\n        iconRegistry.registerIcon(icon.id, icon.definition, icon.description);\n    }\n}\ninitialize();\nexport const iconsSchemaId = 'vscode://schemas/icons';\nlet schemaRegistry = platform.Registry.as(JSONExtensions.JSONContribution);\nschemaRegistry.registerSchema(iconsSchemaId, iconRegistry.getIconSchema());\nconst delayer = new RunOnceScheduler(() => schemaRegistry.notifySchemaChanged(iconsSchemaId), 200);\niconRegistry.onDidChange(() => {\n    if (!delayer.isScheduled()) {\n        delayer.schedule();\n    }\n});\n//setTimeout(_ => console.log(iconRegistry.toString()), 5000);\n// common icons\nexport const widgetClose = registerIcon('widget-close', Codicon.close, localize('widgetClose', 'Icon for the close action in widgets.'));\nexport const gotoPreviousLocation = registerIcon('goto-previous-location', Codicon.arrowUp, localize('previousChangeIcon', 'Icon for goto previous editor location.'));\nexport const gotoNextLocation = registerIcon('goto-next-location', Codicon.arrowDown, localize('nextChangeIcon', 'Icon for goto next editor location.'));\nexport const syncing = ThemeIcon.modify(Codicon.sync, 'spin');\nexport const spinningLoading = ThemeIcon.modify(Codicon.loading, 'spin');\n"]},"metadata":{},"sourceType":"module"}