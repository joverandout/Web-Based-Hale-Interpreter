{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nimport './iconlabel.css';\n\nclass FastLabelNode {\n  constructor(_element) {\n    this._element = _element;\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  set textContent(content) {\n    if (this.disposed || content === this._textContent) {\n      return;\n    }\n\n    this._textContent = content;\n    this._element.textContent = content;\n  }\n\n  set className(className) {\n    if (this.disposed || className === this._className) {\n      return;\n    }\n\n    this._className = className;\n    this._element.className = className;\n  }\n\n  set empty(empty) {\n    if (this.disposed || empty === this._empty) {\n      return;\n    }\n\n    this._empty = empty;\n    this._element.style.marginLeft = empty ? '0' : '';\n  }\n\n  dispose() {\n    this.disposed = true;\n  }\n\n}\n\nexport class IconLabel extends Disposable {\n  constructor(container, options) {\n    super();\n    this.customHovers = new Map();\n    this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n    this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n    const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n    this.descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n\n    if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n      this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n    } else {\n      this.nameNode = new Label(nameContainer);\n    }\n\n    if (options === null || options === void 0 ? void 0 : options.supportDescriptionHighlights) {\n      this.descriptionNodeFactory = () => new HighlightedLabel(dom.append(this.descriptionContainer.element, dom.$('span.label-description')), {\n        supportIcons: !!options.supportIcons\n      });\n    } else {\n      this.descriptionNodeFactory = () => this._register(new FastLabelNode(dom.append(this.descriptionContainer.element, dom.$('span.label-description'))));\n    }\n\n    this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n  }\n\n  get element() {\n    return this.domNode.element;\n  }\n\n  setLabel(label, description, options) {\n    const classes = ['monaco-icon-label'];\n\n    if (options) {\n      if (options.extraClasses) {\n        classes.push(...options.extraClasses);\n      }\n\n      if (options.italic) {\n        classes.push('italic');\n      }\n\n      if (options.strikethrough) {\n        classes.push('strikethrough');\n      }\n    }\n\n    this.domNode.className = classes.join(' ');\n    this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n    this.nameNode.setLabel(label, options);\n\n    if (description || this.descriptionNode) {\n      if (!this.descriptionNode) {\n        this.descriptionNode = this.descriptionNodeFactory(); // description node is created lazily on demand\n      }\n\n      if (this.descriptionNode instanceof HighlightedLabel) {\n        this.descriptionNode.set(description || '', options ? options.descriptionMatches : undefined);\n        this.setupHover(this.descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n      } else {\n        this.descriptionNode.textContent = description || '';\n        this.setupHover(this.descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n        this.descriptionNode.empty = !description;\n      }\n    }\n  }\n\n  setupHover(htmlElement, tooltip) {\n    const previousCustomHover = this.customHovers.get(htmlElement);\n\n    if (previousCustomHover) {\n      previousCustomHover.dispose();\n      this.customHovers.delete(htmlElement);\n    }\n\n    if (!tooltip) {\n      htmlElement.removeAttribute('title');\n      return;\n    }\n\n    if (!this.hoverDelegate) {\n      setupNativeHover(htmlElement, tooltip);\n    } else {\n      const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n\n      if (hoverDisposable) {\n        this.customHovers.set(htmlElement, hoverDisposable);\n      }\n    }\n  }\n\n  dispose() {\n    super.dispose();\n\n    for (const disposable of this.customHovers.values()) {\n      disposable.dispose();\n    }\n\n    this.customHovers.clear();\n  }\n\n}\n\nclass Label {\n  constructor(container) {\n    this.container = container;\n    this.label = undefined;\n    this.singleLabel = undefined;\n  }\n\n  setLabel(label, options) {\n    if (this.label === label && equals(this.options, options)) {\n      return;\n    }\n\n    this.label = label;\n    this.options = options;\n\n    if (typeof label === 'string') {\n      if (!this.singleLabel) {\n        this.container.innerText = '';\n        this.container.classList.remove('multiple');\n        this.singleLabel = dom.append(this.container, dom.$('a.label-name', {\n          id: options === null || options === void 0 ? void 0 : options.domId\n        }));\n      }\n\n      this.singleLabel.textContent = label;\n    } else {\n      this.container.innerText = '';\n      this.container.classList.add('multiple');\n      this.singleLabel = undefined;\n\n      for (let i = 0; i < label.length; i++) {\n        const l = label[i];\n        const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n        dom.append(this.container, dom.$('a.label-name', {\n          id,\n          'data-icon-label-count': label.length,\n          'data-icon-label-index': i,\n          'role': 'treeitem'\n        }, l));\n\n        if (i < label.length - 1) {\n          dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n        }\n      }\n    }\n  }\n\n}\n\nfunction splitMatches(labels, separator, matches) {\n  if (!matches) {\n    return undefined;\n  }\n\n  let labelStart = 0;\n  return labels.map(label => {\n    const labelRange = {\n      start: labelStart,\n      end: labelStart + label.length\n    };\n    const result = matches.map(match => Range.intersect(labelRange, match)).filter(range => !Range.isEmpty(range)).map(({\n      start,\n      end\n    }) => ({\n      start: start - labelStart,\n      end: end - labelStart\n    }));\n    labelStart = labelRange.end + separator.length;\n    return result;\n  });\n}\n\nclass LabelWithHighlights {\n  constructor(container, supportIcons) {\n    this.container = container;\n    this.supportIcons = supportIcons;\n    this.label = undefined;\n    this.singleLabel = undefined;\n  }\n\n  setLabel(label, options) {\n    if (this.label === label && equals(this.options, options)) {\n      return;\n    }\n\n    this.label = label;\n    this.options = options;\n\n    if (typeof label === 'string') {\n      if (!this.singleLabel) {\n        this.container.innerText = '';\n        this.container.classList.remove('multiple');\n        this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', {\n          id: options === null || options === void 0 ? void 0 : options.domId\n        })), {\n          supportIcons: this.supportIcons\n        });\n      }\n\n      this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n    } else {\n      this.container.innerText = '';\n      this.container.classList.add('multiple');\n      this.singleLabel = undefined;\n      const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n      const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n\n      for (let i = 0; i < label.length; i++) {\n        const l = label[i];\n        const m = matches ? matches[i] : undefined;\n        const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n        const name = dom.$('a.label-name', {\n          id,\n          'data-icon-label-count': label.length,\n          'data-icon-label-index': i,\n          'role': 'treeitem'\n        });\n        const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), {\n          supportIcons: this.supportIcons\n        });\n        highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n\n        if (i < label.length - 1) {\n          dom.append(name, dom.$('span.label-separator', undefined, separator));\n        }\n      }\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js"],"names":["dom","HighlightedLabel","setupCustomHover","setupNativeHover","Disposable","equals","Range","FastLabelNode","constructor","_element","element","textContent","content","disposed","_textContent","className","_className","empty","_empty","style","marginLeft","dispose","IconLabel","container","options","customHovers","Map","domNode","_register","append","$","labelContainer","nameContainer","descriptionContainer","supportHighlights","supportIcons","nameNode","LabelWithHighlights","Label","supportDescriptionHighlights","descriptionNodeFactory","hoverDelegate","setLabel","label","description","classes","extraClasses","push","italic","strikethrough","join","setupHover","descriptionTitle","title","descriptionNode","set","descriptionMatches","undefined","htmlElement","tooltip","previousCustomHover","get","delete","removeAttribute","hoverDisposable","disposable","values","clear","singleLabel","innerText","classList","remove","id","domId","add","i","length","l","separator","splitMatches","labels","matches","labelStart","map","labelRange","start","end","result","match","intersect","filter","range","isEmpty","labelEscapeNewLines","m","name","highlightedLabel"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nimport './iconlabel.css';\nclass FastLabelNode {\n    constructor(_element) {\n        this._element = _element;\n    }\n    get element() {\n        return this._element;\n    }\n    set textContent(content) {\n        if (this.disposed || content === this._textContent) {\n            return;\n        }\n        this._textContent = content;\n        this._element.textContent = content;\n    }\n    set className(className) {\n        if (this.disposed || className === this._className) {\n            return;\n        }\n        this._className = className;\n        this._element.className = className;\n    }\n    set empty(empty) {\n        if (this.disposed || empty === this._empty) {\n            return;\n        }\n        this._empty = empty;\n        this._element.style.marginLeft = empty ? '0' : '';\n    }\n    dispose() {\n        this.disposed = true;\n    }\n}\nexport class IconLabel extends Disposable {\n    constructor(container, options) {\n        super();\n        this.customHovers = new Map();\n        this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n        this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n        const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n        this.descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n        if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n            this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n        }\n        else {\n            this.nameNode = new Label(nameContainer);\n        }\n        if (options === null || options === void 0 ? void 0 : options.supportDescriptionHighlights) {\n            this.descriptionNodeFactory = () => new HighlightedLabel(dom.append(this.descriptionContainer.element, dom.$('span.label-description')), { supportIcons: !!options.supportIcons });\n        }\n        else {\n            this.descriptionNodeFactory = () => this._register(new FastLabelNode(dom.append(this.descriptionContainer.element, dom.$('span.label-description'))));\n        }\n        this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n    }\n    get element() {\n        return this.domNode.element;\n    }\n    setLabel(label, description, options) {\n        const classes = ['monaco-icon-label'];\n        if (options) {\n            if (options.extraClasses) {\n                classes.push(...options.extraClasses);\n            }\n            if (options.italic) {\n                classes.push('italic');\n            }\n            if (options.strikethrough) {\n                classes.push('strikethrough');\n            }\n        }\n        this.domNode.className = classes.join(' ');\n        this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n        this.nameNode.setLabel(label, options);\n        if (description || this.descriptionNode) {\n            if (!this.descriptionNode) {\n                this.descriptionNode = this.descriptionNodeFactory(); // description node is created lazily on demand\n            }\n            if (this.descriptionNode instanceof HighlightedLabel) {\n                this.descriptionNode.set(description || '', options ? options.descriptionMatches : undefined);\n                this.setupHover(this.descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n            }\n            else {\n                this.descriptionNode.textContent = description || '';\n                this.setupHover(this.descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n                this.descriptionNode.empty = !description;\n            }\n        }\n    }\n    setupHover(htmlElement, tooltip) {\n        const previousCustomHover = this.customHovers.get(htmlElement);\n        if (previousCustomHover) {\n            previousCustomHover.dispose();\n            this.customHovers.delete(htmlElement);\n        }\n        if (!tooltip) {\n            htmlElement.removeAttribute('title');\n            return;\n        }\n        if (!this.hoverDelegate) {\n            setupNativeHover(htmlElement, tooltip);\n        }\n        else {\n            const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n            if (hoverDisposable) {\n                this.customHovers.set(htmlElement, hoverDisposable);\n            }\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const disposable of this.customHovers.values()) {\n            disposable.dispose();\n        }\n        this.customHovers.clear();\n    }\n}\nclass Label {\n    constructor(container) {\n        this.container = container;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\n            }\n            this.singleLabel.textContent = label;\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                dom.append(this.container, dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' }, l));\n                if (i < label.length - 1) {\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n                }\n            }\n        }\n    }\n}\nfunction splitMatches(labels, separator, matches) {\n    if (!matches) {\n        return undefined;\n    }\n    let labelStart = 0;\n    return labels.map(label => {\n        const labelRange = { start: labelStart, end: labelStart + label.length };\n        const result = matches\n            .map(match => Range.intersect(labelRange, match))\n            .filter(range => !Range.isEmpty(range))\n            .map(({ start, end }) => ({ start: start - labelStart, end: end - labelStart }));\n        labelStart = labelRange.end + separator.length;\n        return result;\n    });\n}\nclass LabelWithHighlights {\n    constructor(container, supportIcons) {\n        this.container = container;\n        this.supportIcons = supportIcons;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), { supportIcons: this.supportIcons });\n            }\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n            const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const m = matches ? matches[i] : undefined;\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                const name = dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' });\n                const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), { supportIcons: this.supportIcons });\n                highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                if (i < label.length - 1) {\n                    dom.append(name, dom.$('span.label-separator', undefined, separator));\n                }\n            }\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}