{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { QuickInputController } from '../../../base/parts/quickinput/browser/quickInput.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { activeContrastBorder, badgeBackground, badgeForeground, buttonBackground, buttonForeground, buttonHoverBackground, contrastBorder, inputBackground, inputBorder, inputForeground, inputValidationErrorBackground, inputValidationErrorBorder, inputValidationErrorForeground, inputValidationInfoBackground, inputValidationInfoBorder, inputValidationInfoForeground, inputValidationWarningBackground, inputValidationWarningBorder, inputValidationWarningForeground, keybindingLabelBackground, keybindingLabelBorder, keybindingLabelBottomBorder, keybindingLabelForeground, pickerGroupBorder, pickerGroupForeground, progressBarBackground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { computeStyles } from '../../theme/common/styler.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nlet QuickInputService = class QuickInputService extends Themable {\n  constructor(instantiationService, contextKeyService, themeService, accessibilityService, layoutService) {\n    super(themeService);\n    this.instantiationService = instantiationService;\n    this.contextKeyService = contextKeyService;\n    this.accessibilityService = accessibilityService;\n    this.layoutService = layoutService;\n    this.contexts = new Map();\n  }\n\n  get controller() {\n    if (!this._controller) {\n      this._controller = this._register(this.createController());\n    }\n\n    return this._controller;\n  }\n\n  get quickAccess() {\n    if (!this._quickAccess) {\n      this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n    }\n\n    return this._quickAccess;\n  }\n\n  createController(host = this.layoutService, options) {\n    var _a, _b;\n\n    const defaultOptions = {\n      idPrefix: 'quickInput_',\n      container: host.container,\n      ignoreFocusOut: () => false,\n      isScreenReaderOptimized: () => this.accessibilityService.isScreenReaderOptimized(),\n      backKeybindingLabel: () => undefined,\n      setContextKey: id => this.setContextKey(id),\n      returnFocus: () => host.focus(),\n      createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\n      styles: this.computeStyles()\n    };\n\n    const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\n\n    controller.layout(host.dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0); // Layout changes\n\n    this._register(host.onDidLayout(dimension => {\n      var _a, _b;\n\n      return controller.layout(dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0);\n    })); // Context keys\n\n\n    this._register(controller.onShow(() => this.resetContextKeys()));\n\n    this._register(controller.onHide(() => this.resetContextKeys()));\n\n    return controller;\n  }\n\n  setContextKey(id) {\n    let key;\n\n    if (id) {\n      key = this.contexts.get(id);\n\n      if (!key) {\n        key = new RawContextKey(id, false).bindTo(this.contextKeyService);\n        this.contexts.set(id, key);\n      }\n    }\n\n    if (key && key.get()) {\n      return; // already active context\n    }\n\n    this.resetContextKeys();\n\n    if (key) {\n      key.set(true);\n    }\n  }\n\n  resetContextKeys() {\n    this.contexts.forEach(context => {\n      if (context.get()) {\n        context.reset();\n      }\n    });\n  }\n\n  pick(picks, options = {}, token = CancellationToken.None) {\n    return this.controller.pick(picks, options, token);\n  }\n\n  createQuickPick() {\n    return this.controller.createQuickPick();\n  }\n\n  updateStyles() {\n    this.controller.applyStyles(this.computeStyles());\n  }\n\n  computeStyles() {\n    return {\n      widget: Object.assign({}, computeStyles(this.theme, {\n        quickInputBackground,\n        quickInputForeground,\n        quickInputTitleBackground,\n        contrastBorder,\n        widgetShadow\n      })),\n      inputBox: computeStyles(this.theme, {\n        inputForeground,\n        inputBackground,\n        inputBorder,\n        inputValidationInfoBackground,\n        inputValidationInfoForeground,\n        inputValidationInfoBorder,\n        inputValidationWarningBackground,\n        inputValidationWarningForeground,\n        inputValidationWarningBorder,\n        inputValidationErrorBackground,\n        inputValidationErrorForeground,\n        inputValidationErrorBorder\n      }),\n      countBadge: computeStyles(this.theme, {\n        badgeBackground,\n        badgeForeground,\n        badgeBorder: contrastBorder\n      }),\n      button: computeStyles(this.theme, {\n        buttonForeground,\n        buttonBackground,\n        buttonHoverBackground,\n        buttonBorder: contrastBorder\n      }),\n      progressBar: computeStyles(this.theme, {\n        progressBarBackground\n      }),\n      keybindingLabel: computeStyles(this.theme, {\n        keybindingLabelBackground,\n        keybindingLabelForeground,\n        keybindingLabelBorder,\n        keybindingLabelBottomBorder,\n        keybindingLabelShadow: widgetShadow\n      }),\n      list: computeStyles(this.theme, {\n        listBackground: quickInputBackground,\n        // Look like focused when inactive.\n        listInactiveFocusForeground: quickInputListFocusForeground,\n        listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n        listInactiveFocusBackground: quickInputListFocusBackground,\n        listFocusOutline: activeContrastBorder,\n        listInactiveFocusOutline: activeContrastBorder,\n        pickerGroupBorder,\n        pickerGroupForeground\n      })\n    };\n  }\n\n};\nQuickInputService = __decorate([__param(0, IInstantiationService), __param(1, IContextKeyService), __param(2, IThemeService), __param(3, IAccessibilityService), __param(4, ILayoutService)], QuickInputService);\nexport { QuickInputService };","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","CancellationToken","QuickInputController","IAccessibilityService","IContextKeyService","RawContextKey","IInstantiationService","ILayoutService","WorkbenchList","QuickAccessController","activeContrastBorder","badgeBackground","badgeForeground","buttonBackground","buttonForeground","buttonHoverBackground","contrastBorder","inputBackground","inputBorder","inputForeground","inputValidationErrorBackground","inputValidationErrorBorder","inputValidationErrorForeground","inputValidationInfoBackground","inputValidationInfoBorder","inputValidationInfoForeground","inputValidationWarningBackground","inputValidationWarningBorder","inputValidationWarningForeground","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelForeground","pickerGroupBorder","pickerGroupForeground","progressBarBackground","quickInputBackground","quickInputForeground","quickInputListFocusBackground","quickInputListFocusForeground","quickInputListFocusIconForeground","quickInputTitleBackground","widgetShadow","computeStyles","IThemeService","Themable","QuickInputService","constructor","instantiationService","contextKeyService","themeService","accessibilityService","layoutService","contexts","Map","controller","_controller","_register","createController","quickAccess","_quickAccess","createInstance","host","options","_a","_b","defaultOptions","idPrefix","container","ignoreFocusOut","isScreenReaderOptimized","backKeybindingLabel","undefined","setContextKey","id","returnFocus","focus","createList","user","delegate","renderers","styles","assign","layout","dimension","offset","top","onDidLayout","onShow","resetContextKeys","onHide","get","bindTo","set","forEach","context","reset","pick","picks","token","None","createQuickPick","updateStyles","applyStyles","widget","theme","inputBox","countBadge","badgeBorder","button","buttonBorder","progressBar","keybindingLabel","keybindingLabelShadow","list","listBackground","listInactiveFocusForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listFocusOutline","listInactiveFocusOutline"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { QuickInputController } from '../../../base/parts/quickinput/browser/quickInput.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { activeContrastBorder, badgeBackground, badgeForeground, buttonBackground, buttonForeground, buttonHoverBackground, contrastBorder, inputBackground, inputBorder, inputForeground, inputValidationErrorBackground, inputValidationErrorBorder, inputValidationErrorForeground, inputValidationInfoBackground, inputValidationInfoBorder, inputValidationInfoForeground, inputValidationWarningBackground, inputValidationWarningBorder, inputValidationWarningForeground, keybindingLabelBackground, keybindingLabelBorder, keybindingLabelBottomBorder, keybindingLabelForeground, pickerGroupBorder, pickerGroupForeground, progressBarBackground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { computeStyles } from '../../theme/common/styler.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nlet QuickInputService = class QuickInputService extends Themable {\n    constructor(instantiationService, contextKeyService, themeService, accessibilityService, layoutService) {\n        super(themeService);\n        this.instantiationService = instantiationService;\n        this.contextKeyService = contextKeyService;\n        this.accessibilityService = accessibilityService;\n        this.layoutService = layoutService;\n        this.contexts = new Map();\n    }\n    get controller() {\n        if (!this._controller) {\n            this._controller = this._register(this.createController());\n        }\n        return this._controller;\n    }\n    get quickAccess() {\n        if (!this._quickAccess) {\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n        }\n        return this._quickAccess;\n    }\n    createController(host = this.layoutService, options) {\n        var _a, _b;\n        const defaultOptions = {\n            idPrefix: 'quickInput_',\n            container: host.container,\n            ignoreFocusOut: () => false,\n            isScreenReaderOptimized: () => this.accessibilityService.isScreenReaderOptimized(),\n            backKeybindingLabel: () => undefined,\n            setContextKey: (id) => this.setContextKey(id),\n            returnFocus: () => host.focus(),\n            createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\n            styles: this.computeStyles()\n        };\n        const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\n        controller.layout(host.dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0);\n        // Layout changes\n        this._register(host.onDidLayout(dimension => { var _a, _b; return controller.layout(dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0); }));\n        // Context keys\n        this._register(controller.onShow(() => this.resetContextKeys()));\n        this._register(controller.onHide(() => this.resetContextKeys()));\n        return controller;\n    }\n    setContextKey(id) {\n        let key;\n        if (id) {\n            key = this.contexts.get(id);\n            if (!key) {\n                key = new RawContextKey(id, false)\n                    .bindTo(this.contextKeyService);\n                this.contexts.set(id, key);\n            }\n        }\n        if (key && key.get()) {\n            return; // already active context\n        }\n        this.resetContextKeys();\n        if (key) {\n            key.set(true);\n        }\n    }\n    resetContextKeys() {\n        this.contexts.forEach(context => {\n            if (context.get()) {\n                context.reset();\n            }\n        });\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.controller.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.controller.createQuickPick();\n    }\n    updateStyles() {\n        this.controller.applyStyles(this.computeStyles());\n    }\n    computeStyles() {\n        return {\n            widget: Object.assign({}, computeStyles(this.theme, {\n                quickInputBackground,\n                quickInputForeground,\n                quickInputTitleBackground,\n                contrastBorder,\n                widgetShadow\n            })),\n            inputBox: computeStyles(this.theme, {\n                inputForeground,\n                inputBackground,\n                inputBorder,\n                inputValidationInfoBackground,\n                inputValidationInfoForeground,\n                inputValidationInfoBorder,\n                inputValidationWarningBackground,\n                inputValidationWarningForeground,\n                inputValidationWarningBorder,\n                inputValidationErrorBackground,\n                inputValidationErrorForeground,\n                inputValidationErrorBorder\n            }),\n            countBadge: computeStyles(this.theme, {\n                badgeBackground,\n                badgeForeground,\n                badgeBorder: contrastBorder\n            }),\n            button: computeStyles(this.theme, {\n                buttonForeground,\n                buttonBackground,\n                buttonHoverBackground,\n                buttonBorder: contrastBorder\n            }),\n            progressBar: computeStyles(this.theme, {\n                progressBarBackground\n            }),\n            keybindingLabel: computeStyles(this.theme, {\n                keybindingLabelBackground,\n                keybindingLabelForeground,\n                keybindingLabelBorder,\n                keybindingLabelBottomBorder,\n                keybindingLabelShadow: widgetShadow\n            }),\n            list: computeStyles(this.theme, {\n                listBackground: quickInputBackground,\n                // Look like focused when inactive.\n                listInactiveFocusForeground: quickInputListFocusForeground,\n                listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n                listInactiveFocusBackground: quickInputListFocusBackground,\n                listFocusOutline: activeContrastBorder,\n                listInactiveFocusOutline: activeContrastBorder,\n                pickerGroupBorder,\n                pickerGroupForeground\n            })\n        };\n    }\n};\nQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, IContextKeyService),\n    __param(2, IThemeService),\n    __param(3, IAccessibilityService),\n    __param(4, ILayoutService)\n], QuickInputService);\nexport { QuickInputService };\n"]},"metadata":{},"sourceType":"module"}