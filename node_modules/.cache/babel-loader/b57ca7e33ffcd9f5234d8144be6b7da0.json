{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Selection } from '../../../common/core/selection.js';\nexport class InPlaceReplaceCommand {\n  constructor(editRange, originalSelection, text) {\n    this._editRange = editRange;\n    this._originalSelection = originalSelection;\n    this._text = text;\n  }\n\n  getEditOperations(model, builder) {\n    builder.addTrackedEditOperation(this._editRange, this._text);\n  }\n\n  computeCursorState(model, helper) {\n    const inverseEditOperations = helper.getInverseEditOperations();\n    const srcRange = inverseEditOperations[0].range;\n\n    if (!this._originalSelection.isEmpty()) {\n      // Preserve selection and extends to typed text\n      return new Selection(srcRange.endLineNumber, srcRange.endColumn - this._text.length, srcRange.endLineNumber, srcRange.endColumn);\n    }\n\n    return new Selection(srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn), srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn));\n  }\n\n}","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand.js"],"names":["Selection","InPlaceReplaceCommand","constructor","editRange","originalSelection","text","_editRange","_originalSelection","_text","getEditOperations","model","builder","addTrackedEditOperation","computeCursorState","helper","inverseEditOperations","getInverseEditOperations","srcRange","range","isEmpty","endLineNumber","endColumn","length","Math","min","positionColumn"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,mCAA1B;AACA,OAAO,MAAMC,qBAAN,CAA4B;AAC/BC,EAAAA,WAAW,CAACC,SAAD,EAAYC,iBAAZ,EAA+BC,IAA/B,EAAqC;AAC5C,SAAKC,UAAL,GAAkBH,SAAlB;AACA,SAAKI,kBAAL,GAA0BH,iBAA1B;AACA,SAAKI,KAAL,GAAaH,IAAb;AACH;;AACDI,EAAAA,iBAAiB,CAACC,KAAD,EAAQC,OAAR,EAAiB;AAC9BA,IAAAA,OAAO,CAACC,uBAAR,CAAgC,KAAKN,UAArC,EAAiD,KAAKE,KAAtD;AACH;;AACDK,EAAAA,kBAAkB,CAACH,KAAD,EAAQI,MAAR,EAAgB;AAC9B,UAAMC,qBAAqB,GAAGD,MAAM,CAACE,wBAAP,EAA9B;AACA,UAAMC,QAAQ,GAAGF,qBAAqB,CAAC,CAAD,CAArB,CAAyBG,KAA1C;;AACA,QAAI,CAAC,KAAKX,kBAAL,CAAwBY,OAAxB,EAAL,EAAwC;AACpC;AACA,aAAO,IAAInB,SAAJ,CAAciB,QAAQ,CAACG,aAAvB,EAAsCH,QAAQ,CAACI,SAAT,GAAqB,KAAKb,KAAL,CAAWc,MAAtE,EAA8EL,QAAQ,CAACG,aAAvF,EAAsGH,QAAQ,CAACI,SAA/G,CAAP;AACH;;AACD,WAAO,IAAIrB,SAAJ,CAAciB,QAAQ,CAACG,aAAvB,EAAsCG,IAAI,CAACC,GAAL,CAAS,KAAKjB,kBAAL,CAAwBkB,cAAjC,EAAiDR,QAAQ,CAACI,SAA1D,CAAtC,EAA4GJ,QAAQ,CAACG,aAArH,EAAoIG,IAAI,CAACC,GAAL,CAAS,KAAKjB,kBAAL,CAAwBkB,cAAjC,EAAiDR,QAAQ,CAACI,SAA1D,CAApI,CAAP;AACH;;AAjB8B","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Selection } from '../../../common/core/selection.js';\nexport class InPlaceReplaceCommand {\n    constructor(editRange, originalSelection, text) {\n        this._editRange = editRange;\n        this._originalSelection = originalSelection;\n        this._text = text;\n    }\n    getEditOperations(model, builder) {\n        builder.addTrackedEditOperation(this._editRange, this._text);\n    }\n    computeCursorState(model, helper) {\n        const inverseEditOperations = helper.getInverseEditOperations();\n        const srcRange = inverseEditOperations[0].range;\n        if (!this._originalSelection.isEmpty()) {\n            // Preserve selection and extends to typed text\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn - this._text.length, srcRange.endLineNumber, srcRange.endColumn);\n        }\n        return new Selection(srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn), srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}