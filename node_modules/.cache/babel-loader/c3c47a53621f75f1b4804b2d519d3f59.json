{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../core/range.js';\nimport { editorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6, editorBracketHighlightingUnexpectedBracketForeground } from '../../core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nexport class ColorizedBracketPairsDecorationProvider extends Disposable {\n  constructor(textModel) {\n    super();\n    this.textModel = textModel;\n    this.colorProvider = new ColorProvider();\n    this.onDidChangeEmitter = new Emitter();\n    this.onDidChange = this.onDidChangeEmitter.event;\n    this.colorizationOptions = textModel.getOptions().bracketPairColorizationOptions;\n\n    this._register(textModel.onDidChangeOptions(e => {\n      this.colorizationOptions = textModel.getOptions().bracketPairColorizationOptions;\n    }));\n\n    this._register(textModel.bracketPairs.onDidChange(e => {\n      this.onDidChangeEmitter.fire();\n    }));\n  }\n\n  getDecorationsInRange(range, ownerId, filterOutValidation) {\n    if (ownerId === undefined) {\n      return [];\n    }\n\n    if (!this.colorizationOptions.enabled) {\n      return [];\n    }\n\n    const result = new Array();\n    const bracketsInRange = this.textModel.bracketPairs.getBracketsInRange(range);\n\n    for (const bracket of bracketsInRange) {\n      result.push({\n        id: `bracket${bracket.range.toString()}-${bracket.nestingLevel}`,\n        options: {\n          description: 'BracketPairColorization',\n          inlineClassName: this.colorProvider.getInlineClassName(bracket)\n        },\n        ownerId: 0,\n        range: bracket.range\n      });\n    }\n\n    return result;\n  }\n\n  getAllDecorations(ownerId, filterOutValidation) {\n    if (ownerId === undefined) {\n      return [];\n    }\n\n    if (!this.colorizationOptions.enabled) {\n      return [];\n    }\n\n    return this.getDecorationsInRange(new Range(1, 1, this.textModel.getLineCount(), 1), ownerId, filterOutValidation);\n  }\n\n}\n\nclass ColorProvider {\n  constructor() {\n    this.unexpectedClosingBracketClassName = 'unexpected-closing-bracket';\n  }\n\n  getInlineClassName(bracket) {\n    if (bracket.isInvalid) {\n      return this.unexpectedClosingBracketClassName;\n    }\n\n    return this.getInlineClassNameOfLevel(bracket.nestingLevel);\n  }\n\n  getInlineClassNameOfLevel(level) {\n    // To support a dynamic amount of colors up to 6 colors,\n    // we use a number that is a lcm of all numbers from 1 to 6.\n    return `bracket-highlighting-${level % 30}`;\n  }\n\n}\n\nregisterThemingParticipant((theme, collector) => {\n  const colors = [editorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6];\n  const colorProvider = new ColorProvider();\n  collector.addRule(`.monaco-editor .${colorProvider.unexpectedClosingBracketClassName} { color: ${theme.getColor(editorBracketHighlightingUnexpectedBracketForeground)}; }`);\n  const colorValues = colors.map(c => theme.getColor(c)).filter(c => !!c).filter(c => !c.isTransparent());\n\n  for (let level = 0; level < 30; level++) {\n    const color = colorValues[level % colorValues.length];\n    collector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level)} { color: ${color}; }`);\n  }\n});","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider.js"],"names":["Emitter","Disposable","Range","editorBracketHighlightingForeground1","editorBracketHighlightingForeground2","editorBracketHighlightingForeground3","editorBracketHighlightingForeground4","editorBracketHighlightingForeground5","editorBracketHighlightingForeground6","editorBracketHighlightingUnexpectedBracketForeground","registerThemingParticipant","ColorizedBracketPairsDecorationProvider","constructor","textModel","colorProvider","ColorProvider","onDidChangeEmitter","onDidChange","event","colorizationOptions","getOptions","bracketPairColorizationOptions","_register","onDidChangeOptions","e","bracketPairs","fire","getDecorationsInRange","range","ownerId","filterOutValidation","undefined","enabled","result","Array","bracketsInRange","getBracketsInRange","bracket","push","id","toString","nestingLevel","options","description","inlineClassName","getInlineClassName","getAllDecorations","getLineCount","unexpectedClosingBracketClassName","isInvalid","getInlineClassNameOfLevel","level","theme","collector","colors","addRule","getColor","colorValues","map","c","filter","isTransparent","color","length"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../core/range.js';\nimport { editorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6, editorBracketHighlightingUnexpectedBracketForeground } from '../../core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nexport class ColorizedBracketPairsDecorationProvider extends Disposable {\n    constructor(textModel) {\n        super();\n        this.textModel = textModel;\n        this.colorProvider = new ColorProvider();\n        this.onDidChangeEmitter = new Emitter();\n        this.onDidChange = this.onDidChangeEmitter.event;\n        this.colorizationOptions = textModel.getOptions().bracketPairColorizationOptions;\n        this._register(textModel.onDidChangeOptions(e => {\n            this.colorizationOptions = textModel.getOptions().bracketPairColorizationOptions;\n        }));\n        this._register(textModel.bracketPairs.onDidChange(e => {\n            this.onDidChangeEmitter.fire();\n        }));\n    }\n    getDecorationsInRange(range, ownerId, filterOutValidation) {\n        if (ownerId === undefined) {\n            return [];\n        }\n        if (!this.colorizationOptions.enabled) {\n            return [];\n        }\n        const result = new Array();\n        const bracketsInRange = this.textModel.bracketPairs.getBracketsInRange(range);\n        for (const bracket of bracketsInRange) {\n            result.push({\n                id: `bracket${bracket.range.toString()}-${bracket.nestingLevel}`,\n                options: { description: 'BracketPairColorization', inlineClassName: this.colorProvider.getInlineClassName(bracket) },\n                ownerId: 0,\n                range: bracket.range\n            });\n        }\n        return result;\n    }\n    getAllDecorations(ownerId, filterOutValidation) {\n        if (ownerId === undefined) {\n            return [];\n        }\n        if (!this.colorizationOptions.enabled) {\n            return [];\n        }\n        return this.getDecorationsInRange(new Range(1, 1, this.textModel.getLineCount(), 1), ownerId, filterOutValidation);\n    }\n}\nclass ColorProvider {\n    constructor() {\n        this.unexpectedClosingBracketClassName = 'unexpected-closing-bracket';\n    }\n    getInlineClassName(bracket) {\n        if (bracket.isInvalid) {\n            return this.unexpectedClosingBracketClassName;\n        }\n        return this.getInlineClassNameOfLevel(bracket.nestingLevel);\n    }\n    getInlineClassNameOfLevel(level) {\n        // To support a dynamic amount of colors up to 6 colors,\n        // we use a number that is a lcm of all numbers from 1 to 6.\n        return `bracket-highlighting-${level % 30}`;\n    }\n}\nregisterThemingParticipant((theme, collector) => {\n    const colors = [\n        editorBracketHighlightingForeground1,\n        editorBracketHighlightingForeground2,\n        editorBracketHighlightingForeground3,\n        editorBracketHighlightingForeground4,\n        editorBracketHighlightingForeground5,\n        editorBracketHighlightingForeground6\n    ];\n    const colorProvider = new ColorProvider();\n    collector.addRule(`.monaco-editor .${colorProvider.unexpectedClosingBracketClassName} { color: ${theme.getColor(editorBracketHighlightingUnexpectedBracketForeground)}; }`);\n    const colorValues = colors\n        .map(c => theme.getColor(c))\n        .filter((c) => !!c)\n        .filter(c => !c.isTransparent());\n    for (let level = 0; level < 30; level++) {\n        const color = colorValues[level % colorValues.length];\n        collector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level)} { color: ${color}; }`);\n    }\n});\n"]},"metadata":{},"sourceType":"module"}