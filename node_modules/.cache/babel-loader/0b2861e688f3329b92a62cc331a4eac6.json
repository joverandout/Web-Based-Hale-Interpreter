{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { DeclarationProviderRegistry, DefinitionProviderRegistry, ImplementationProviderRegistry, ReferenceProviderRegistry, TypeDefinitionProviderRegistry } from '../../../common/languages.js';\nimport { ReferencesModel } from './referencesModel.js';\n\nfunction getLocationLinks(model, position, registry, provide) {\n  const provider = registry.ordered(model); // get results\n\n  const promises = provider.map(provider => {\n    return Promise.resolve(provide(provider, model, position)).then(undefined, err => {\n      onUnexpectedExternalError(err);\n      return undefined;\n    });\n  });\n  return Promise.all(promises).then(values => {\n    const result = [];\n\n    for (let value of values) {\n      if (Array.isArray(value)) {\n        result.push(...value);\n      } else if (value) {\n        result.push(value);\n      }\n    }\n\n    return result;\n  });\n}\n\nexport function getDefinitionsAtPosition(model, position, token) {\n  return getLocationLinks(model, position, DefinitionProviderRegistry, (provider, model, position) => {\n    return provider.provideDefinition(model, position, token);\n  });\n}\nexport function getDeclarationsAtPosition(model, position, token) {\n  return getLocationLinks(model, position, DeclarationProviderRegistry, (provider, model, position) => {\n    return provider.provideDeclaration(model, position, token);\n  });\n}\nexport function getImplementationsAtPosition(model, position, token) {\n  return getLocationLinks(model, position, ImplementationProviderRegistry, (provider, model, position) => {\n    return provider.provideImplementation(model, position, token);\n  });\n}\nexport function getTypeDefinitionsAtPosition(model, position, token) {\n  return getLocationLinks(model, position, TypeDefinitionProviderRegistry, (provider, model, position) => {\n    return provider.provideTypeDefinition(model, position, token);\n  });\n}\nexport function getReferencesAtPosition(model, position, compact, token) {\n  return getLocationLinks(model, position, ReferenceProviderRegistry, (provider, model, position) => __awaiter(this, void 0, void 0, function* () {\n    const result = yield provider.provideReferences(model, position, {\n      includeDeclaration: true\n    }, token);\n\n    if (!compact || !result || result.length !== 2) {\n      return result;\n    }\n\n    const resultWithoutDeclaration = yield provider.provideReferences(model, position, {\n      includeDeclaration: false\n    }, token);\n\n    if (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\n      return resultWithoutDeclaration;\n    }\n\n    return result;\n  }));\n} // -- API commands ----\n\nfunction _sortedAndDeduped(callback) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const rawLinks = yield callback();\n    const model = new ReferencesModel(rawLinks, '');\n    const modelLinks = model.references.map(ref => ref.link);\n    model.dispose();\n    return modelLinks;\n  });\n}\n\nregisterModelAndPositionCommand('_executeDefinitionProvider', (model, position) => _sortedAndDeduped(() => getDefinitionsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeDeclarationProvider', (model, position) => _sortedAndDeduped(() => getDeclarationsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeImplementationProvider', (model, position) => _sortedAndDeduped(() => getImplementationsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider', (model, position) => _sortedAndDeduped(() => getTypeDefinitionsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeReferenceProvider', (model, position) => _sortedAndDeduped(() => getReferencesAtPosition(model, position, false, CancellationToken.None)));","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToSymbol.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","CancellationToken","onUnexpectedExternalError","registerModelAndPositionCommand","DeclarationProviderRegistry","DefinitionProviderRegistry","ImplementationProviderRegistry","ReferenceProviderRegistry","TypeDefinitionProviderRegistry","ReferencesModel","getLocationLinks","model","position","registry","provide","provider","ordered","promises","map","undefined","err","all","values","Array","isArray","push","getDefinitionsAtPosition","token","provideDefinition","getDeclarationsAtPosition","provideDeclaration","getImplementationsAtPosition","provideImplementation","getTypeDefinitionsAtPosition","provideTypeDefinition","getReferencesAtPosition","compact","provideReferences","includeDeclaration","length","resultWithoutDeclaration","_sortedAndDeduped","callback","rawLinks","modelLinks","references","ref","link","dispose","None"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { DeclarationProviderRegistry, DefinitionProviderRegistry, ImplementationProviderRegistry, ReferenceProviderRegistry, TypeDefinitionProviderRegistry } from '../../../common/languages.js';\nimport { ReferencesModel } from './referencesModel.js';\nfunction getLocationLinks(model, position, registry, provide) {\n    const provider = registry.ordered(model);\n    // get results\n    const promises = provider.map((provider) => {\n        return Promise.resolve(provide(provider, model, position)).then(undefined, err => {\n            onUnexpectedExternalError(err);\n            return undefined;\n        });\n    });\n    return Promise.all(promises).then(values => {\n        const result = [];\n        for (let value of values) {\n            if (Array.isArray(value)) {\n                result.push(...value);\n            }\n            else if (value) {\n                result.push(value);\n            }\n        }\n        return result;\n    });\n}\nexport function getDefinitionsAtPosition(model, position, token) {\n    return getLocationLinks(model, position, DefinitionProviderRegistry, (provider, model, position) => {\n        return provider.provideDefinition(model, position, token);\n    });\n}\nexport function getDeclarationsAtPosition(model, position, token) {\n    return getLocationLinks(model, position, DeclarationProviderRegistry, (provider, model, position) => {\n        return provider.provideDeclaration(model, position, token);\n    });\n}\nexport function getImplementationsAtPosition(model, position, token) {\n    return getLocationLinks(model, position, ImplementationProviderRegistry, (provider, model, position) => {\n        return provider.provideImplementation(model, position, token);\n    });\n}\nexport function getTypeDefinitionsAtPosition(model, position, token) {\n    return getLocationLinks(model, position, TypeDefinitionProviderRegistry, (provider, model, position) => {\n        return provider.provideTypeDefinition(model, position, token);\n    });\n}\nexport function getReferencesAtPosition(model, position, compact, token) {\n    return getLocationLinks(model, position, ReferenceProviderRegistry, (provider, model, position) => __awaiter(this, void 0, void 0, function* () {\n        const result = yield provider.provideReferences(model, position, { includeDeclaration: true }, token);\n        if (!compact || !result || result.length !== 2) {\n            return result;\n        }\n        const resultWithoutDeclaration = yield provider.provideReferences(model, position, { includeDeclaration: false }, token);\n        if (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\n            return resultWithoutDeclaration;\n        }\n        return result;\n    }));\n}\n// -- API commands ----\nfunction _sortedAndDeduped(callback) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const rawLinks = yield callback();\n        const model = new ReferencesModel(rawLinks, '');\n        const modelLinks = model.references.map(ref => ref.link);\n        model.dispose();\n        return modelLinks;\n    });\n}\nregisterModelAndPositionCommand('_executeDefinitionProvider', (model, position) => _sortedAndDeduped(() => getDefinitionsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeDeclarationProvider', (model, position) => _sortedAndDeduped(() => getDeclarationsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeImplementationProvider', (model, position) => _sortedAndDeduped(() => getImplementationsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider', (model, position) => _sortedAndDeduped(() => getTypeDefinitionsAtPosition(model, position, CancellationToken.None)));\nregisterModelAndPositionCommand('_executeReferenceProvider', (model, position) => _sortedAndDeduped(() => getReferencesAtPosition(model, position, false, CancellationToken.None)));\n"]},"metadata":{},"sourceType":"module"}