{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { getBaseLabel } from '../../../../base/common/labels.js';\nimport { DisposableStore, dispose } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { splitLines } from '../../../../base/common/strings.js';\nimport './media/gotoErrorWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { peekViewTitleForeground, peekViewTitleInfoForeground, PeekViewWidget } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { createAndFillInActionBarActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { SeverityIcon } from '../../../../platform/severityIcon/common/severityIcon.js';\nimport { contrastBorder, editorBackground, editorErrorBorder, editorErrorForeground, editorInfoBorder, editorInfoForeground, editorWarningBorder, editorWarningForeground, oneOf, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\n\nclass MessageWidget {\n  constructor(parent, editor, onRelatedInformation, _openerService, _labelService) {\n    this._openerService = _openerService;\n    this._labelService = _labelService;\n    this._lines = 0;\n    this._longestLineLength = 0;\n    this._relatedDiagnostics = new WeakMap();\n    this._disposables = new DisposableStore();\n    this._editor = editor;\n    const domNode = document.createElement('div');\n    domNode.className = 'descriptioncontainer';\n    this._messageBlock = document.createElement('div');\n\n    this._messageBlock.classList.add('message');\n\n    this._messageBlock.setAttribute('aria-live', 'assertive');\n\n    this._messageBlock.setAttribute('role', 'alert');\n\n    domNode.appendChild(this._messageBlock);\n    this._relatedBlock = document.createElement('div');\n    domNode.appendChild(this._relatedBlock);\n\n    this._disposables.add(dom.addStandardDisposableListener(this._relatedBlock, 'click', event => {\n      event.preventDefault();\n\n      const related = this._relatedDiagnostics.get(event.target);\n\n      if (related) {\n        onRelatedInformation(related);\n      }\n    }));\n\n    this._scrollable = new ScrollableElement(domNode, {\n      horizontal: 1\n      /* Auto */\n      ,\n      vertical: 1\n      /* Auto */\n      ,\n      useShadows: false,\n      horizontalScrollbarSize: 6,\n      verticalScrollbarSize: 6\n    });\n    parent.appendChild(this._scrollable.getDomNode());\n\n    this._disposables.add(this._scrollable.onScroll(e => {\n      domNode.style.left = `-${e.scrollLeft}px`;\n      domNode.style.top = `-${e.scrollTop}px`;\n    }));\n\n    this._disposables.add(this._scrollable);\n  }\n\n  dispose() {\n    dispose(this._disposables);\n  }\n\n  update(marker) {\n    const {\n      source,\n      message,\n      relatedInformation,\n      code\n    } = marker;\n    let sourceAndCodeLength = ((source === null || source === void 0 ? void 0 : source.length) || 0) + '()'.length;\n\n    if (code) {\n      if (typeof code === 'string') {\n        sourceAndCodeLength += code.length;\n      } else {\n        sourceAndCodeLength += code.value.length;\n      }\n    }\n\n    const lines = splitLines(message);\n    this._lines = lines.length;\n    this._longestLineLength = 0;\n\n    for (const line of lines) {\n      this._longestLineLength = Math.max(line.length + sourceAndCodeLength, this._longestLineLength);\n    }\n\n    dom.clearNode(this._messageBlock);\n\n    this._messageBlock.setAttribute('aria-label', this.getAriaLabel(marker));\n\n    this._editor.applyFontInfo(this._messageBlock);\n\n    let lastLineElement = this._messageBlock;\n\n    for (const line of lines) {\n      lastLineElement = document.createElement('div');\n      lastLineElement.innerText = line;\n\n      if (line === '') {\n        lastLineElement.style.height = this._messageBlock.style.lineHeight;\n      }\n\n      this._messageBlock.appendChild(lastLineElement);\n    }\n\n    if (source || code) {\n      const detailsElement = document.createElement('span');\n      detailsElement.classList.add('details');\n      lastLineElement.appendChild(detailsElement);\n\n      if (source) {\n        const sourceElement = document.createElement('span');\n        sourceElement.innerText = source;\n        sourceElement.classList.add('source');\n        detailsElement.appendChild(sourceElement);\n      }\n\n      if (code) {\n        if (typeof code === 'string') {\n          const codeElement = document.createElement('span');\n          codeElement.innerText = `(${code})`;\n          codeElement.classList.add('code');\n          detailsElement.appendChild(codeElement);\n        } else {\n          this._codeLink = dom.$('a.code-link');\n\n          this._codeLink.setAttribute('href', `${code.target.toString()}`);\n\n          this._codeLink.onclick = e => {\n            this._openerService.open(code.target, {\n              allowCommands: true\n            });\n\n            e.preventDefault();\n            e.stopPropagation();\n          };\n\n          const codeElement = dom.append(this._codeLink, dom.$('span'));\n          codeElement.innerText = code.value;\n          detailsElement.appendChild(this._codeLink);\n        }\n      }\n    }\n\n    dom.clearNode(this._relatedBlock);\n\n    this._editor.applyFontInfo(this._relatedBlock);\n\n    if (isNonEmptyArray(relatedInformation)) {\n      const relatedInformationNode = this._relatedBlock.appendChild(document.createElement('div'));\n\n      relatedInformationNode.style.paddingTop = `${Math.floor(this._editor.getOption(59\n      /* lineHeight */\n      ) * 0.66)}px`;\n      this._lines += 1;\n\n      for (const related of relatedInformation) {\n        let container = document.createElement('div');\n        let relatedResource = document.createElement('a');\n        relatedResource.classList.add('filename');\n        relatedResource.innerText = `${getBaseLabel(related.resource)}(${related.startLineNumber}, ${related.startColumn}): `;\n        relatedResource.title = this._labelService.getUriLabel(related.resource);\n\n        this._relatedDiagnostics.set(relatedResource, related);\n\n        let relatedMessage = document.createElement('span');\n        relatedMessage.innerText = related.message;\n        container.appendChild(relatedResource);\n        container.appendChild(relatedMessage);\n        this._lines += 1;\n        relatedInformationNode.appendChild(container);\n      }\n    }\n\n    const fontInfo = this._editor.getOption(44\n    /* fontInfo */\n    );\n\n    const scrollWidth = Math.ceil(fontInfo.typicalFullwidthCharacterWidth * this._longestLineLength * 0.75);\n    const scrollHeight = fontInfo.lineHeight * this._lines;\n\n    this._scrollable.setScrollDimensions({\n      scrollWidth,\n      scrollHeight\n    });\n  }\n\n  layout(height, width) {\n    this._scrollable.getDomNode().style.height = `${height}px`;\n    this._scrollable.getDomNode().style.width = `${width}px`;\n\n    this._scrollable.setScrollDimensions({\n      width,\n      height\n    });\n  }\n\n  getHeightInLines() {\n    return Math.min(17, this._lines);\n  }\n\n  getAriaLabel(marker) {\n    let severityLabel = '';\n\n    switch (marker.severity) {\n      case MarkerSeverity.Error:\n        severityLabel = nls.localize('Error', \"Error\");\n        break;\n\n      case MarkerSeverity.Warning:\n        severityLabel = nls.localize('Warning', \"Warning\");\n        break;\n\n      case MarkerSeverity.Info:\n        severityLabel = nls.localize('Info', \"Info\");\n        break;\n\n      case MarkerSeverity.Hint:\n        severityLabel = nls.localize('Hint', \"Hint\");\n        break;\n    }\n\n    let ariaLabel = nls.localize('marker aria', \"{0} at {1}. \", severityLabel, marker.startLineNumber + ':' + marker.startColumn);\n\n    const model = this._editor.getModel();\n\n    if (model && marker.startLineNumber <= model.getLineCount() && marker.startLineNumber >= 1) {\n      const lineContent = model.getLineContent(marker.startLineNumber);\n      ariaLabel = `${lineContent}, ${ariaLabel}`;\n    }\n\n    return ariaLabel;\n  }\n\n}\n\nlet MarkerNavigationWidget = class MarkerNavigationWidget extends PeekViewWidget {\n  constructor(editor, _themeService, _openerService, _menuService, instantiationService, _contextKeyService, _labelService) {\n    super(editor, {\n      showArrow: true,\n      showFrame: true,\n      isAccessible: true,\n      frameWidth: 1\n    }, instantiationService);\n    this._themeService = _themeService;\n    this._openerService = _openerService;\n    this._menuService = _menuService;\n    this._contextKeyService = _contextKeyService;\n    this._labelService = _labelService;\n    this._callOnDispose = new DisposableStore();\n    this._onDidSelectRelatedInformation = new Emitter();\n    this.onDidSelectRelatedInformation = this._onDidSelectRelatedInformation.event;\n    this._severity = MarkerSeverity.Warning;\n    this._backgroundColor = Color.white;\n\n    this._applyTheme(_themeService.getColorTheme());\n\n    this._callOnDispose.add(_themeService.onDidColorThemeChange(this._applyTheme.bind(this)));\n\n    this.create();\n  }\n\n  _applyTheme(theme) {\n    this._backgroundColor = theme.getColor(editorMarkerNavigationBackground);\n    let colorId = editorMarkerNavigationError;\n    let headerBackground = editorMarkerNavigationErrorHeader;\n\n    if (this._severity === MarkerSeverity.Warning) {\n      colorId = editorMarkerNavigationWarning;\n      headerBackground = editorMarkerNavigationWarningHeader;\n    } else if (this._severity === MarkerSeverity.Info) {\n      colorId = editorMarkerNavigationInfo;\n      headerBackground = editorMarkerNavigationInfoHeader;\n    }\n\n    const frameColor = theme.getColor(colorId);\n    const headerBg = theme.getColor(headerBackground);\n    this.style({\n      arrowColor: frameColor,\n      frameColor: frameColor,\n      headerBackgroundColor: headerBg,\n      primaryHeadingColor: theme.getColor(peekViewTitleForeground),\n      secondaryHeadingColor: theme.getColor(peekViewTitleInfoForeground)\n    }); // style() will trigger _applyStyles\n  }\n\n  _applyStyles() {\n    if (this._parentContainer) {\n      this._parentContainer.style.backgroundColor = this._backgroundColor ? this._backgroundColor.toString() : '';\n    }\n\n    super._applyStyles();\n  }\n\n  dispose() {\n    this._callOnDispose.dispose();\n\n    super.dispose();\n  }\n\n  _fillHead(container) {\n    super._fillHead(container);\n\n    this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(e => this.editor.focus()));\n\n    const actions = [];\n\n    const menu = this._menuService.createMenu(MarkerNavigationWidget.TitleMenu, this._contextKeyService);\n\n    createAndFillInActionBarActions(menu, undefined, actions);\n\n    this._actionbarWidget.push(actions, {\n      label: false,\n      icon: true,\n      index: 0\n    });\n\n    menu.dispose();\n  }\n\n  _fillTitleIcon(container) {\n    this._icon = dom.append(container, dom.$(''));\n  }\n\n  _fillBody(container) {\n    this._parentContainer = container;\n    container.classList.add('marker-widget');\n    this._parentContainer.tabIndex = 0;\n\n    this._parentContainer.setAttribute('role', 'tooltip');\n\n    this._container = document.createElement('div');\n    container.appendChild(this._container);\n    this._message = new MessageWidget(this._container, this.editor, related => this._onDidSelectRelatedInformation.fire(related), this._openerService, this._labelService);\n\n    this._disposables.add(this._message);\n  }\n\n  show() {\n    throw new Error('call showAtMarker');\n  }\n\n  showAtMarker(marker, markerIdx, markerCount) {\n    // update:\n    // * title\n    // * message\n    this._container.classList.remove('stale');\n\n    this._message.update(marker); // update frame color (only applied on 'show')\n\n\n    this._severity = marker.severity;\n\n    this._applyTheme(this._themeService.getColorTheme()); // show\n\n\n    let range = Range.lift(marker);\n    const editorPosition = this.editor.getPosition();\n    let position = editorPosition && range.containsPosition(editorPosition) ? editorPosition : range.getStartPosition();\n    super.show(position, this.computeRequiredHeight());\n    const model = this.editor.getModel();\n\n    if (model) {\n      const detail = markerCount > 1 ? nls.localize('problems', \"{0} of {1} problems\", markerIdx, markerCount) : nls.localize('change', \"{0} of {1} problem\", markerIdx, markerCount);\n      this.setTitle(basename(model.uri), detail);\n    }\n\n    this._icon.className = `codicon ${SeverityIcon.className(MarkerSeverity.toSeverity(this._severity))}`;\n    this.editor.revealPositionNearTop(position, 0\n    /* Smooth */\n    );\n    this.editor.focus();\n  }\n\n  updateMarker(marker) {\n    this._container.classList.remove('stale');\n\n    this._message.update(marker);\n  }\n\n  showStale() {\n    this._container.classList.add('stale');\n\n    this._relayout();\n  }\n\n  _doLayoutBody(heightInPixel, widthInPixel) {\n    super._doLayoutBody(heightInPixel, widthInPixel);\n\n    this._heightInPixel = heightInPixel;\n\n    this._message.layout(heightInPixel, widthInPixel);\n\n    this._container.style.height = `${heightInPixel}px`;\n  }\n\n  _onWidth(widthInPixel) {\n    this._message.layout(this._heightInPixel, widthInPixel);\n  }\n\n  _relayout() {\n    super._relayout(this.computeRequiredHeight());\n  }\n\n  computeRequiredHeight() {\n    return 3 + this._message.getHeightInLines();\n  }\n\n};\nMarkerNavigationWidget.TitleMenu = new MenuId('gotoErrorTitleMenu');\nMarkerNavigationWidget = __decorate([__param(1, IThemeService), __param(2, IOpenerService), __param(3, IMenuService), __param(4, IInstantiationService), __param(5, IContextKeyService), __param(6, ILabelService)], MarkerNavigationWidget);\nexport { MarkerNavigationWidget }; // theming\n\nlet errorDefault = oneOf(editorErrorForeground, editorErrorBorder);\nlet warningDefault = oneOf(editorWarningForeground, editorWarningBorder);\nlet infoDefault = oneOf(editorInfoForeground, editorInfoBorder);\nexport const editorMarkerNavigationError = registerColor('editorMarkerNavigationError.background', {\n  dark: errorDefault,\n  light: errorDefault,\n  hc: contrastBorder\n}, nls.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));\nexport const editorMarkerNavigationErrorHeader = registerColor('editorMarkerNavigationError.headerBackground', {\n  dark: transparent(editorMarkerNavigationError, .1),\n  light: transparent(editorMarkerNavigationError, .1),\n  hc: null\n}, nls.localize('editorMarkerNavigationErrorHeaderBackground', 'Editor marker navigation widget error heading background.'));\nexport const editorMarkerNavigationWarning = registerColor('editorMarkerNavigationWarning.background', {\n  dark: warningDefault,\n  light: warningDefault,\n  hc: contrastBorder\n}, nls.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));\nexport const editorMarkerNavigationWarningHeader = registerColor('editorMarkerNavigationWarning.headerBackground', {\n  dark: transparent(editorMarkerNavigationWarning, .1),\n  light: transparent(editorMarkerNavigationWarning, .1),\n  hc: '#0C141F'\n}, nls.localize('editorMarkerNavigationWarningBackground', 'Editor marker navigation widget warning heading background.'));\nexport const editorMarkerNavigationInfo = registerColor('editorMarkerNavigationInfo.background', {\n  dark: infoDefault,\n  light: infoDefault,\n  hc: contrastBorder\n}, nls.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));\nexport const editorMarkerNavigationInfoHeader = registerColor('editorMarkerNavigationInfo.headerBackground', {\n  dark: transparent(editorMarkerNavigationInfo, .1),\n  light: transparent(editorMarkerNavigationInfo, .1),\n  hc: null\n}, nls.localize('editorMarkerNavigationInfoHeaderBackground', 'Editor marker navigation widget info heading background.'));\nexport const editorMarkerNavigationBackground = registerColor('editorMarkerNavigation.background', {\n  dark: editorBackground,\n  light: editorBackground,\n  hc: editorBackground\n}, nls.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoErrorWidget.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","dom","ScrollableElement","isNonEmptyArray","Color","Emitter","getBaseLabel","DisposableStore","dispose","basename","splitLines","Range","peekViewTitleForeground","peekViewTitleInfoForeground","PeekViewWidget","nls","createAndFillInActionBarActions","IMenuService","MenuId","IContextKeyService","IInstantiationService","ILabelService","MarkerSeverity","IOpenerService","SeverityIcon","contrastBorder","editorBackground","editorErrorBorder","editorErrorForeground","editorInfoBorder","editorInfoForeground","editorWarningBorder","editorWarningForeground","oneOf","registerColor","transparent","IThemeService","MessageWidget","constructor","parent","editor","onRelatedInformation","_openerService","_labelService","_lines","_longestLineLength","_relatedDiagnostics","WeakMap","_disposables","_editor","domNode","document","createElement","className","_messageBlock","classList","add","setAttribute","appendChild","_relatedBlock","addStandardDisposableListener","event","preventDefault","related","get","_scrollable","horizontal","vertical","useShadows","horizontalScrollbarSize","verticalScrollbarSize","getDomNode","onScroll","e","style","left","scrollLeft","top","scrollTop","update","marker","source","message","relatedInformation","code","sourceAndCodeLength","value","lines","line","Math","max","clearNode","getAriaLabel","applyFontInfo","lastLineElement","innerText","height","lineHeight","detailsElement","sourceElement","codeElement","_codeLink","$","toString","onclick","open","allowCommands","stopPropagation","append","relatedInformationNode","paddingTop","floor","getOption","container","relatedResource","resource","startLineNumber","startColumn","title","getUriLabel","set","relatedMessage","fontInfo","scrollWidth","ceil","typicalFullwidthCharacterWidth","scrollHeight","setScrollDimensions","layout","width","getHeightInLines","min","severityLabel","severity","Error","localize","Warning","Info","Hint","ariaLabel","model","getModel","getLineCount","lineContent","getLineContent","MarkerNavigationWidget","_themeService","_menuService","instantiationService","_contextKeyService","showArrow","showFrame","isAccessible","frameWidth","_callOnDispose","_onDidSelectRelatedInformation","onDidSelectRelatedInformation","_severity","_backgroundColor","white","_applyTheme","getColorTheme","onDidColorThemeChange","bind","create","theme","getColor","editorMarkerNavigationBackground","colorId","editorMarkerNavigationError","headerBackground","editorMarkerNavigationErrorHeader","editorMarkerNavigationWarning","editorMarkerNavigationWarningHeader","editorMarkerNavigationInfo","editorMarkerNavigationInfoHeader","frameColor","headerBg","arrowColor","headerBackgroundColor","primaryHeadingColor","secondaryHeadingColor","_applyStyles","_parentContainer","backgroundColor","_fillHead","_actionbarWidget","actionRunner","onBeforeRun","focus","actions","menu","createMenu","TitleMenu","undefined","push","label","icon","index","_fillTitleIcon","_icon","_fillBody","tabIndex","_container","_message","fire","show","showAtMarker","markerIdx","markerCount","remove","range","lift","editorPosition","getPosition","position","containsPosition","getStartPosition","computeRequiredHeight","detail","setTitle","uri","toSeverity","revealPositionNearTop","updateMarker","showStale","_relayout","_doLayoutBody","heightInPixel","widthInPixel","_heightInPixel","_onWidth","errorDefault","warningDefault","infoDefault","dark","light","hc"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { getBaseLabel } from '../../../../base/common/labels.js';\nimport { DisposableStore, dispose } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { splitLines } from '../../../../base/common/strings.js';\nimport './media/gotoErrorWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { peekViewTitleForeground, peekViewTitleInfoForeground, PeekViewWidget } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { createAndFillInActionBarActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { SeverityIcon } from '../../../../platform/severityIcon/common/severityIcon.js';\nimport { contrastBorder, editorBackground, editorErrorBorder, editorErrorForeground, editorInfoBorder, editorInfoForeground, editorWarningBorder, editorWarningForeground, oneOf, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nclass MessageWidget {\n    constructor(parent, editor, onRelatedInformation, _openerService, _labelService) {\n        this._openerService = _openerService;\n        this._labelService = _labelService;\n        this._lines = 0;\n        this._longestLineLength = 0;\n        this._relatedDiagnostics = new WeakMap();\n        this._disposables = new DisposableStore();\n        this._editor = editor;\n        const domNode = document.createElement('div');\n        domNode.className = 'descriptioncontainer';\n        this._messageBlock = document.createElement('div');\n        this._messageBlock.classList.add('message');\n        this._messageBlock.setAttribute('aria-live', 'assertive');\n        this._messageBlock.setAttribute('role', 'alert');\n        domNode.appendChild(this._messageBlock);\n        this._relatedBlock = document.createElement('div');\n        domNode.appendChild(this._relatedBlock);\n        this._disposables.add(dom.addStandardDisposableListener(this._relatedBlock, 'click', event => {\n            event.preventDefault();\n            const related = this._relatedDiagnostics.get(event.target);\n            if (related) {\n                onRelatedInformation(related);\n            }\n        }));\n        this._scrollable = new ScrollableElement(domNode, {\n            horizontal: 1 /* Auto */,\n            vertical: 1 /* Auto */,\n            useShadows: false,\n            horizontalScrollbarSize: 6,\n            verticalScrollbarSize: 6\n        });\n        parent.appendChild(this._scrollable.getDomNode());\n        this._disposables.add(this._scrollable.onScroll(e => {\n            domNode.style.left = `-${e.scrollLeft}px`;\n            domNode.style.top = `-${e.scrollTop}px`;\n        }));\n        this._disposables.add(this._scrollable);\n    }\n    dispose() {\n        dispose(this._disposables);\n    }\n    update(marker) {\n        const { source, message, relatedInformation, code } = marker;\n        let sourceAndCodeLength = ((source === null || source === void 0 ? void 0 : source.length) || 0) + '()'.length;\n        if (code) {\n            if (typeof code === 'string') {\n                sourceAndCodeLength += code.length;\n            }\n            else {\n                sourceAndCodeLength += code.value.length;\n            }\n        }\n        const lines = splitLines(message);\n        this._lines = lines.length;\n        this._longestLineLength = 0;\n        for (const line of lines) {\n            this._longestLineLength = Math.max(line.length + sourceAndCodeLength, this._longestLineLength);\n        }\n        dom.clearNode(this._messageBlock);\n        this._messageBlock.setAttribute('aria-label', this.getAriaLabel(marker));\n        this._editor.applyFontInfo(this._messageBlock);\n        let lastLineElement = this._messageBlock;\n        for (const line of lines) {\n            lastLineElement = document.createElement('div');\n            lastLineElement.innerText = line;\n            if (line === '') {\n                lastLineElement.style.height = this._messageBlock.style.lineHeight;\n            }\n            this._messageBlock.appendChild(lastLineElement);\n        }\n        if (source || code) {\n            const detailsElement = document.createElement('span');\n            detailsElement.classList.add('details');\n            lastLineElement.appendChild(detailsElement);\n            if (source) {\n                const sourceElement = document.createElement('span');\n                sourceElement.innerText = source;\n                sourceElement.classList.add('source');\n                detailsElement.appendChild(sourceElement);\n            }\n            if (code) {\n                if (typeof code === 'string') {\n                    const codeElement = document.createElement('span');\n                    codeElement.innerText = `(${code})`;\n                    codeElement.classList.add('code');\n                    detailsElement.appendChild(codeElement);\n                }\n                else {\n                    this._codeLink = dom.$('a.code-link');\n                    this._codeLink.setAttribute('href', `${code.target.toString()}`);\n                    this._codeLink.onclick = (e) => {\n                        this._openerService.open(code.target, { allowCommands: true });\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                    const codeElement = dom.append(this._codeLink, dom.$('span'));\n                    codeElement.innerText = code.value;\n                    detailsElement.appendChild(this._codeLink);\n                }\n            }\n        }\n        dom.clearNode(this._relatedBlock);\n        this._editor.applyFontInfo(this._relatedBlock);\n        if (isNonEmptyArray(relatedInformation)) {\n            const relatedInformationNode = this._relatedBlock.appendChild(document.createElement('div'));\n            relatedInformationNode.style.paddingTop = `${Math.floor(this._editor.getOption(59 /* lineHeight */) * 0.66)}px`;\n            this._lines += 1;\n            for (const related of relatedInformation) {\n                let container = document.createElement('div');\n                let relatedResource = document.createElement('a');\n                relatedResource.classList.add('filename');\n                relatedResource.innerText = `${getBaseLabel(related.resource)}(${related.startLineNumber}, ${related.startColumn}): `;\n                relatedResource.title = this._labelService.getUriLabel(related.resource);\n                this._relatedDiagnostics.set(relatedResource, related);\n                let relatedMessage = document.createElement('span');\n                relatedMessage.innerText = related.message;\n                container.appendChild(relatedResource);\n                container.appendChild(relatedMessage);\n                this._lines += 1;\n                relatedInformationNode.appendChild(container);\n            }\n        }\n        const fontInfo = this._editor.getOption(44 /* fontInfo */);\n        const scrollWidth = Math.ceil(fontInfo.typicalFullwidthCharacterWidth * this._longestLineLength * 0.75);\n        const scrollHeight = fontInfo.lineHeight * this._lines;\n        this._scrollable.setScrollDimensions({ scrollWidth, scrollHeight });\n    }\n    layout(height, width) {\n        this._scrollable.getDomNode().style.height = `${height}px`;\n        this._scrollable.getDomNode().style.width = `${width}px`;\n        this._scrollable.setScrollDimensions({ width, height });\n    }\n    getHeightInLines() {\n        return Math.min(17, this._lines);\n    }\n    getAriaLabel(marker) {\n        let severityLabel = '';\n        switch (marker.severity) {\n            case MarkerSeverity.Error:\n                severityLabel = nls.localize('Error', \"Error\");\n                break;\n            case MarkerSeverity.Warning:\n                severityLabel = nls.localize('Warning', \"Warning\");\n                break;\n            case MarkerSeverity.Info:\n                severityLabel = nls.localize('Info', \"Info\");\n                break;\n            case MarkerSeverity.Hint:\n                severityLabel = nls.localize('Hint', \"Hint\");\n                break;\n        }\n        let ariaLabel = nls.localize('marker aria', \"{0} at {1}. \", severityLabel, marker.startLineNumber + ':' + marker.startColumn);\n        const model = this._editor.getModel();\n        if (model && (marker.startLineNumber <= model.getLineCount()) && (marker.startLineNumber >= 1)) {\n            const lineContent = model.getLineContent(marker.startLineNumber);\n            ariaLabel = `${lineContent}, ${ariaLabel}`;\n        }\n        return ariaLabel;\n    }\n}\nlet MarkerNavigationWidget = class MarkerNavigationWidget extends PeekViewWidget {\n    constructor(editor, _themeService, _openerService, _menuService, instantiationService, _contextKeyService, _labelService) {\n        super(editor, { showArrow: true, showFrame: true, isAccessible: true, frameWidth: 1 }, instantiationService);\n        this._themeService = _themeService;\n        this._openerService = _openerService;\n        this._menuService = _menuService;\n        this._contextKeyService = _contextKeyService;\n        this._labelService = _labelService;\n        this._callOnDispose = new DisposableStore();\n        this._onDidSelectRelatedInformation = new Emitter();\n        this.onDidSelectRelatedInformation = this._onDidSelectRelatedInformation.event;\n        this._severity = MarkerSeverity.Warning;\n        this._backgroundColor = Color.white;\n        this._applyTheme(_themeService.getColorTheme());\n        this._callOnDispose.add(_themeService.onDidColorThemeChange(this._applyTheme.bind(this)));\n        this.create();\n    }\n    _applyTheme(theme) {\n        this._backgroundColor = theme.getColor(editorMarkerNavigationBackground);\n        let colorId = editorMarkerNavigationError;\n        let headerBackground = editorMarkerNavigationErrorHeader;\n        if (this._severity === MarkerSeverity.Warning) {\n            colorId = editorMarkerNavigationWarning;\n            headerBackground = editorMarkerNavigationWarningHeader;\n        }\n        else if (this._severity === MarkerSeverity.Info) {\n            colorId = editorMarkerNavigationInfo;\n            headerBackground = editorMarkerNavigationInfoHeader;\n        }\n        const frameColor = theme.getColor(colorId);\n        const headerBg = theme.getColor(headerBackground);\n        this.style({\n            arrowColor: frameColor,\n            frameColor: frameColor,\n            headerBackgroundColor: headerBg,\n            primaryHeadingColor: theme.getColor(peekViewTitleForeground),\n            secondaryHeadingColor: theme.getColor(peekViewTitleInfoForeground)\n        }); // style() will trigger _applyStyles\n    }\n    _applyStyles() {\n        if (this._parentContainer) {\n            this._parentContainer.style.backgroundColor = this._backgroundColor ? this._backgroundColor.toString() : '';\n        }\n        super._applyStyles();\n    }\n    dispose() {\n        this._callOnDispose.dispose();\n        super.dispose();\n    }\n    _fillHead(container) {\n        super._fillHead(container);\n        this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(e => this.editor.focus()));\n        const actions = [];\n        const menu = this._menuService.createMenu(MarkerNavigationWidget.TitleMenu, this._contextKeyService);\n        createAndFillInActionBarActions(menu, undefined, actions);\n        this._actionbarWidget.push(actions, { label: false, icon: true, index: 0 });\n        menu.dispose();\n    }\n    _fillTitleIcon(container) {\n        this._icon = dom.append(container, dom.$(''));\n    }\n    _fillBody(container) {\n        this._parentContainer = container;\n        container.classList.add('marker-widget');\n        this._parentContainer.tabIndex = 0;\n        this._parentContainer.setAttribute('role', 'tooltip');\n        this._container = document.createElement('div');\n        container.appendChild(this._container);\n        this._message = new MessageWidget(this._container, this.editor, related => this._onDidSelectRelatedInformation.fire(related), this._openerService, this._labelService);\n        this._disposables.add(this._message);\n    }\n    show() {\n        throw new Error('call showAtMarker');\n    }\n    showAtMarker(marker, markerIdx, markerCount) {\n        // update:\n        // * title\n        // * message\n        this._container.classList.remove('stale');\n        this._message.update(marker);\n        // update frame color (only applied on 'show')\n        this._severity = marker.severity;\n        this._applyTheme(this._themeService.getColorTheme());\n        // show\n        let range = Range.lift(marker);\n        const editorPosition = this.editor.getPosition();\n        let position = editorPosition && range.containsPosition(editorPosition) ? editorPosition : range.getStartPosition();\n        super.show(position, this.computeRequiredHeight());\n        const model = this.editor.getModel();\n        if (model) {\n            const detail = markerCount > 1\n                ? nls.localize('problems', \"{0} of {1} problems\", markerIdx, markerCount)\n                : nls.localize('change', \"{0} of {1} problem\", markerIdx, markerCount);\n            this.setTitle(basename(model.uri), detail);\n        }\n        this._icon.className = `codicon ${SeverityIcon.className(MarkerSeverity.toSeverity(this._severity))}`;\n        this.editor.revealPositionNearTop(position, 0 /* Smooth */);\n        this.editor.focus();\n    }\n    updateMarker(marker) {\n        this._container.classList.remove('stale');\n        this._message.update(marker);\n    }\n    showStale() {\n        this._container.classList.add('stale');\n        this._relayout();\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        super._doLayoutBody(heightInPixel, widthInPixel);\n        this._heightInPixel = heightInPixel;\n        this._message.layout(heightInPixel, widthInPixel);\n        this._container.style.height = `${heightInPixel}px`;\n    }\n    _onWidth(widthInPixel) {\n        this._message.layout(this._heightInPixel, widthInPixel);\n    }\n    _relayout() {\n        super._relayout(this.computeRequiredHeight());\n    }\n    computeRequiredHeight() {\n        return 3 + this._message.getHeightInLines();\n    }\n};\nMarkerNavigationWidget.TitleMenu = new MenuId('gotoErrorTitleMenu');\nMarkerNavigationWidget = __decorate([\n    __param(1, IThemeService),\n    __param(2, IOpenerService),\n    __param(3, IMenuService),\n    __param(4, IInstantiationService),\n    __param(5, IContextKeyService),\n    __param(6, ILabelService)\n], MarkerNavigationWidget);\nexport { MarkerNavigationWidget };\n// theming\nlet errorDefault = oneOf(editorErrorForeground, editorErrorBorder);\nlet warningDefault = oneOf(editorWarningForeground, editorWarningBorder);\nlet infoDefault = oneOf(editorInfoForeground, editorInfoBorder);\nexport const editorMarkerNavigationError = registerColor('editorMarkerNavigationError.background', { dark: errorDefault, light: errorDefault, hc: contrastBorder }, nls.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));\nexport const editorMarkerNavigationErrorHeader = registerColor('editorMarkerNavigationError.headerBackground', { dark: transparent(editorMarkerNavigationError, .1), light: transparent(editorMarkerNavigationError, .1), hc: null }, nls.localize('editorMarkerNavigationErrorHeaderBackground', 'Editor marker navigation widget error heading background.'));\nexport const editorMarkerNavigationWarning = registerColor('editorMarkerNavigationWarning.background', { dark: warningDefault, light: warningDefault, hc: contrastBorder }, nls.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));\nexport const editorMarkerNavigationWarningHeader = registerColor('editorMarkerNavigationWarning.headerBackground', { dark: transparent(editorMarkerNavigationWarning, .1), light: transparent(editorMarkerNavigationWarning, .1), hc: '#0C141F' }, nls.localize('editorMarkerNavigationWarningBackground', 'Editor marker navigation widget warning heading background.'));\nexport const editorMarkerNavigationInfo = registerColor('editorMarkerNavigationInfo.background', { dark: infoDefault, light: infoDefault, hc: contrastBorder }, nls.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));\nexport const editorMarkerNavigationInfoHeader = registerColor('editorMarkerNavigationInfo.headerBackground', { dark: transparent(editorMarkerNavigationInfo, .1), light: transparent(editorMarkerNavigationInfo, .1), hc: null }, nls.localize('editorMarkerNavigationInfoHeaderBackground', 'Editor marker navigation widget info heading background.'));\nexport const editorMarkerNavigationBackground = registerColor('editorMarkerNavigation.background', { dark: editorBackground, light: editorBackground, hc: editorBackground }, nls.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));\n"]},"metadata":{},"sourceType":"module"}