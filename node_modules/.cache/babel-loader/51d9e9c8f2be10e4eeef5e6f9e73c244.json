{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './aria.css'; // Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\n\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n  ariaContainer = document.createElement('div');\n  ariaContainer.className = 'monaco-aria-container';\n\n  const createAlertContainer = () => {\n    const element = document.createElement('div');\n    element.className = 'monaco-alert';\n    element.setAttribute('role', 'alert');\n    element.setAttribute('aria-atomic', 'true');\n    ariaContainer.appendChild(element);\n    return element;\n  };\n\n  alertContainer = createAlertContainer();\n  alertContainer2 = createAlertContainer();\n\n  const createStatusContainer = () => {\n    const element = document.createElement('div');\n    element.className = 'monaco-status';\n    element.setAttribute('role', 'complementary');\n    element.setAttribute('aria-live', 'polite');\n    element.setAttribute('aria-atomic', 'true');\n    ariaContainer.appendChild(element);\n    return element;\n  };\n\n  statusContainer = createStatusContainer();\n  statusContainer2 = createStatusContainer();\n  parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\n\nexport function alert(msg) {\n  if (!ariaContainer) {\n    return;\n  } // Use alternate containers such that duplicated messages get read out by screen readers #99466\n\n\n  if (alertContainer.textContent !== msg) {\n    dom.clearNode(alertContainer2);\n    insertMessage(alertContainer, msg);\n  } else {\n    dom.clearNode(alertContainer);\n    insertMessage(alertContainer2, msg);\n  }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\n\nexport function status(msg) {\n  if (!ariaContainer) {\n    return;\n  }\n\n  if (isMacintosh) {\n    alert(msg); // VoiceOver does not seem to support status role\n  } else {\n    if (statusContainer.textContent !== msg) {\n      dom.clearNode(statusContainer2);\n      insertMessage(statusContainer, msg);\n    } else {\n      dom.clearNode(statusContainer);\n      insertMessage(statusContainer2, msg);\n    }\n  }\n}\n\nfunction insertMessage(target, msg) {\n  dom.clearNode(target);\n\n  if (msg.length > MAX_MESSAGE_LENGTH) {\n    msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n  }\n\n  target.textContent = msg; // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n\n  target.style.visibility = 'hidden';\n  target.style.visibility = 'visible';\n}","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js"],"names":["dom","isMacintosh","MAX_MESSAGE_LENGTH","ariaContainer","alertContainer","alertContainer2","statusContainer","statusContainer2","setARIAContainer","parent","document","createElement","className","createAlertContainer","element","setAttribute","appendChild","createStatusContainer","alert","msg","textContent","clearNode","insertMessage","status","target","length","substr","style","visibility"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './aria.css';\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n    ariaContainer = document.createElement('div');\n    ariaContainer.className = 'monaco-aria-container';\n    const createAlertContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-alert';\n        element.setAttribute('role', 'alert');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    alertContainer = createAlertContainer();\n    alertContainer2 = createAlertContainer();\n    const createStatusContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-status';\n        element.setAttribute('role', 'complementary');\n        element.setAttribute('aria-live', 'polite');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    statusContainer = createStatusContainer();\n    statusContainer2 = createStatusContainer();\n    parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    // Use alternate containers such that duplicated messages get read out by screen readers #99466\n    if (alertContainer.textContent !== msg) {\n        dom.clearNode(alertContainer2);\n        insertMessage(alertContainer, msg);\n    }\n    else {\n        dom.clearNode(alertContainer);\n        insertMessage(alertContainer2, msg);\n    }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    if (isMacintosh) {\n        alert(msg); // VoiceOver does not seem to support status role\n    }\n    else {\n        if (statusContainer.textContent !== msg) {\n            dom.clearNode(statusContainer2);\n            insertMessage(statusContainer, msg);\n        }\n        else {\n            dom.clearNode(statusContainer);\n            insertMessage(statusContainer2, msg);\n        }\n    }\n}\nfunction insertMessage(target, msg) {\n    dom.clearNode(target);\n    if (msg.length > MAX_MESSAGE_LENGTH) {\n        msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n    }\n    target.textContent = msg;\n    // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n    target.style.visibility = 'hidden';\n    target.style.visibility = 'visible';\n}\n"]},"metadata":{},"sourceType":"module"}