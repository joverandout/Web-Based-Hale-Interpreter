{"ast":null,"code":"module.exports = ErrorPacket;\n\nfunction ErrorPacket(options) {\n  options = options || {};\n  this.fieldCount = options.fieldCount;\n  this.errno = options.errno;\n  this.sqlStateMarker = options.sqlStateMarker;\n  this.sqlState = options.sqlState;\n  this.message = options.message;\n}\n\nErrorPacket.prototype.parse = function (parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.errno = parser.parseUnsignedNumber(2); // sqlStateMarker ('#' = 0x23) indicates error packet format\n\n  if (parser.peak() === 0x23) {\n    this.sqlStateMarker = parser.parseString(1);\n    this.sqlState = parser.parseString(5);\n  }\n\n  this.message = parser.parsePacketTerminatedString();\n};\n\nErrorPacket.prototype.write = function (writer) {\n  writer.writeUnsignedNumber(1, 0xff);\n  writer.writeUnsignedNumber(2, this.errno);\n\n  if (this.sqlStateMarker) {\n    writer.writeString(this.sqlStateMarker);\n    writer.writeString(this.sqlState);\n  }\n\n  writer.writeString(this.message);\n};","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/mysql/lib/protocol/packets/ErrorPacket.js"],"names":["module","exports","ErrorPacket","options","fieldCount","errno","sqlStateMarker","sqlState","message","prototype","parse","parser","parseUnsignedNumber","peak","parseString","parsePacketTerminatedString","write","writer","writeUnsignedNumber","writeString"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,WAAjB;;AACA,SAASA,WAAT,CAAqBC,OAArB,EAA8B;AAC5BA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,OAAKC,UAAL,GAAsBD,OAAO,CAACC,UAA9B;AACA,OAAKC,KAAL,GAAsBF,OAAO,CAACE,KAA9B;AACA,OAAKC,cAAL,GAAsBH,OAAO,CAACG,cAA9B;AACA,OAAKC,QAAL,GAAsBJ,OAAO,CAACI,QAA9B;AACA,OAAKC,OAAL,GAAsBL,OAAO,CAACK,OAA9B;AACD;;AAEDN,WAAW,CAACO,SAAZ,CAAsBC,KAAtB,GAA8B,UAASC,MAAT,EAAiB;AAC7C,OAAKP,UAAL,GAAkBO,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAAlB;AACA,OAAKP,KAAL,GAAkBM,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAAlB,CAF6C,CAI7C;;AACA,MAAID,MAAM,CAACE,IAAP,OAAkB,IAAtB,EAA4B;AAC1B,SAAKP,cAAL,GAAsBK,MAAM,CAACG,WAAP,CAAmB,CAAnB,CAAtB;AACA,SAAKP,QAAL,GAAsBI,MAAM,CAACG,WAAP,CAAmB,CAAnB,CAAtB;AACD;;AAED,OAAKN,OAAL,GAAeG,MAAM,CAACI,2BAAP,EAAf;AACD,CAXD;;AAaAb,WAAW,CAACO,SAAZ,CAAsBO,KAAtB,GAA8B,UAASC,MAAT,EAAiB;AAC7CA,EAAAA,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,IAA9B;AACAD,EAAAA,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKb,KAAnC;;AAEA,MAAI,KAAKC,cAAT,EAAyB;AACvBW,IAAAA,MAAM,CAACE,WAAP,CAAmB,KAAKb,cAAxB;AACAW,IAAAA,MAAM,CAACE,WAAP,CAAmB,KAAKZ,QAAxB;AACD;;AAEDU,EAAAA,MAAM,CAACE,WAAP,CAAmB,KAAKX,OAAxB;AACD,CAVD","sourcesContent":["module.exports = ErrorPacket;\nfunction ErrorPacket(options) {\n  options = options || {};\n\n  this.fieldCount     = options.fieldCount;\n  this.errno          = options.errno;\n  this.sqlStateMarker = options.sqlStateMarker;\n  this.sqlState       = options.sqlState;\n  this.message        = options.message;\n}\n\nErrorPacket.prototype.parse = function(parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.errno      = parser.parseUnsignedNumber(2);\n\n  // sqlStateMarker ('#' = 0x23) indicates error packet format\n  if (parser.peak() === 0x23) {\n    this.sqlStateMarker = parser.parseString(1);\n    this.sqlState       = parser.parseString(5);\n  }\n\n  this.message = parser.parsePacketTerminatedString();\n};\n\nErrorPacket.prototype.write = function(writer) {\n  writer.writeUnsignedNumber(1, 0xff);\n  writer.writeUnsignedNumber(2, this.errno);\n\n  if (this.sqlStateMarker) {\n    writer.writeString(this.sqlStateMarker);\n    writer.writeString(this.sqlState);\n  }\n\n  writer.writeString(this.message);\n};\n"]},"metadata":{},"sourceType":"script"}