{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './rulers.css';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { ViewPart } from '../../view/viewPart.js';\nimport { editorRuler } from '../../../common/core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nexport class Rulers extends ViewPart {\n  constructor(context) {\n    super(context);\n    this.domNode = createFastDomNode(document.createElement('div'));\n    this.domNode.setAttribute('role', 'presentation');\n    this.domNode.setAttribute('aria-hidden', 'true');\n    this.domNode.setClassName('view-rulers');\n    this._renderedRulers = [];\n    const options = this._context.configuration.options;\n    this._rulers = options.get(91\n    /* rulers */\n    );\n    this._typicalHalfwidthCharacterWidth = options.get(44\n    /* fontInfo */\n    ).typicalHalfwidthCharacterWidth;\n  }\n\n  dispose() {\n    super.dispose();\n  } // --- begin event handlers\n\n\n  onConfigurationChanged(e) {\n    const options = this._context.configuration.options;\n    this._rulers = options.get(91\n    /* rulers */\n    );\n    this._typicalHalfwidthCharacterWidth = options.get(44\n    /* fontInfo */\n    ).typicalHalfwidthCharacterWidth;\n    return true;\n  }\n\n  onScrollChanged(e) {\n    return e.scrollHeightChanged;\n  } // --- end event handlers\n\n\n  prepareRender(ctx) {// Nothing to read\n  }\n\n  _ensureRulersCount() {\n    const currentCount = this._renderedRulers.length;\n    const desiredCount = this._rulers.length;\n\n    if (currentCount === desiredCount) {\n      // Nothing to do\n      return;\n    }\n\n    if (currentCount < desiredCount) {\n      const {\n        tabSize\n      } = this._context.model.getTextModelOptions();\n\n      const rulerWidth = tabSize;\n      let addCount = desiredCount - currentCount;\n\n      while (addCount > 0) {\n        const node = createFastDomNode(document.createElement('div'));\n        node.setClassName('view-ruler');\n        node.setWidth(rulerWidth);\n        this.domNode.appendChild(node);\n\n        this._renderedRulers.push(node);\n\n        addCount--;\n      }\n\n      return;\n    }\n\n    let removeCount = currentCount - desiredCount;\n\n    while (removeCount > 0) {\n      const node = this._renderedRulers.pop();\n\n      this.domNode.removeChild(node);\n      removeCount--;\n    }\n  }\n\n  render(ctx) {\n    this._ensureRulersCount();\n\n    for (let i = 0, len = this._rulers.length; i < len; i++) {\n      const node = this._renderedRulers[i];\n      const ruler = this._rulers[i];\n      node.setBoxShadow(ruler.color ? `1px 0 0 0 ${ruler.color} inset` : ``);\n      node.setHeight(Math.min(ctx.scrollHeight, 1000000));\n      node.setLeft(ruler.column * this._typicalHalfwidthCharacterWidth);\n    }\n  }\n\n}\nregisterThemingParticipant((theme, collector) => {\n  const rulerColor = theme.getColor(editorRuler);\n\n  if (rulerColor) {\n    collector.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${rulerColor} inset; }`);\n  }\n});","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/rulers/rulers.js"],"names":["createFastDomNode","ViewPart","editorRuler","registerThemingParticipant","Rulers","constructor","context","domNode","document","createElement","setAttribute","setClassName","_renderedRulers","options","_context","configuration","_rulers","get","_typicalHalfwidthCharacterWidth","typicalHalfwidthCharacterWidth","dispose","onConfigurationChanged","e","onScrollChanged","scrollHeightChanged","prepareRender","ctx","_ensureRulersCount","currentCount","length","desiredCount","tabSize","model","getTextModelOptions","rulerWidth","addCount","node","setWidth","appendChild","push","removeCount","pop","removeChild","render","i","len","ruler","setBoxShadow","color","setHeight","Math","min","scrollHeight","setLeft","column","theme","collector","rulerColor","getColor","addRule"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './rulers.css';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { ViewPart } from '../../view/viewPart.js';\nimport { editorRuler } from '../../../common/core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nexport class Rulers extends ViewPart {\n    constructor(context) {\n        super(context);\n        this.domNode = createFastDomNode(document.createElement('div'));\n        this.domNode.setAttribute('role', 'presentation');\n        this.domNode.setAttribute('aria-hidden', 'true');\n        this.domNode.setClassName('view-rulers');\n        this._renderedRulers = [];\n        const options = this._context.configuration.options;\n        this._rulers = options.get(91 /* rulers */);\n        this._typicalHalfwidthCharacterWidth = options.get(44 /* fontInfo */).typicalHalfwidthCharacterWidth;\n    }\n    dispose() {\n        super.dispose();\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        this._rulers = options.get(91 /* rulers */);\n        this._typicalHalfwidthCharacterWidth = options.get(44 /* fontInfo */).typicalHalfwidthCharacterWidth;\n        return true;\n    }\n    onScrollChanged(e) {\n        return e.scrollHeightChanged;\n    }\n    // --- end event handlers\n    prepareRender(ctx) {\n        // Nothing to read\n    }\n    _ensureRulersCount() {\n        const currentCount = this._renderedRulers.length;\n        const desiredCount = this._rulers.length;\n        if (currentCount === desiredCount) {\n            // Nothing to do\n            return;\n        }\n        if (currentCount < desiredCount) {\n            const { tabSize } = this._context.model.getTextModelOptions();\n            const rulerWidth = tabSize;\n            let addCount = desiredCount - currentCount;\n            while (addCount > 0) {\n                const node = createFastDomNode(document.createElement('div'));\n                node.setClassName('view-ruler');\n                node.setWidth(rulerWidth);\n                this.domNode.appendChild(node);\n                this._renderedRulers.push(node);\n                addCount--;\n            }\n            return;\n        }\n        let removeCount = currentCount - desiredCount;\n        while (removeCount > 0) {\n            const node = this._renderedRulers.pop();\n            this.domNode.removeChild(node);\n            removeCount--;\n        }\n    }\n    render(ctx) {\n        this._ensureRulersCount();\n        for (let i = 0, len = this._rulers.length; i < len; i++) {\n            const node = this._renderedRulers[i];\n            const ruler = this._rulers[i];\n            node.setBoxShadow(ruler.color ? `1px 0 0 0 ${ruler.color} inset` : ``);\n            node.setHeight(Math.min(ctx.scrollHeight, 1000000));\n            node.setLeft(ruler.column * this._typicalHalfwidthCharacterWidth);\n        }\n    }\n}\nregisterThemingParticipant((theme, collector) => {\n    const rulerColor = theme.getColor(editorRuler);\n    if (rulerColor) {\n        collector.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${rulerColor} inset; }`);\n    }\n});\n"]},"metadata":{},"sourceType":"module"}