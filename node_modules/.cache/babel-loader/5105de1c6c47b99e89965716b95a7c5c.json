{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Action, Separator } from '../../../../base/common/actions.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { EditorExtensionsRegistry } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { DefinitionAction, SymbolNavigationAction, SymbolNavigationAnchor } from '../../gotoSymbol/browser/goToCommands.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport { isIMenuItem, MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nexport function showGoToContextMenu(accessor, editor, anchor, part) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    const resolverService = accessor.get(ITextModelService);\n    const contextMenuService = accessor.get(IContextMenuService);\n    const commandService = accessor.get(ICommandService);\n    const instaService = accessor.get(IInstantiationService);\n    const notificationService = accessor.get(INotificationService);\n    yield part.item.resolve(CancellationToken.None);\n\n    if (!part.part.location) {\n      return;\n    }\n\n    const location = part.part.location;\n    const menuActions = []; // from all registered (not active) context menu actions select those\n    // that are a symbol navigation action\n\n    const filter = new Set(MenuRegistry.getMenuItems(MenuId.EditorContext).map(item => isIMenuItem(item) ? item.command.id : ''));\n\n    for (const delegate of EditorExtensionsRegistry.getEditorActions()) {\n      if (delegate instanceof SymbolNavigationAction && filter.has(delegate.id)) {\n        menuActions.push(new Action(delegate.id, delegate.label, undefined, true, () => __awaiter(this, void 0, void 0, function* () {\n          const ref = yield resolverService.createModelReference(location.uri);\n\n          try {\n            yield instaService.invokeFunction(delegate.run.bind(delegate), editor, new SymbolNavigationAnchor(ref.object.textEditorModel, Range.getStartPosition(location.range)));\n          } finally {\n            ref.dispose();\n          }\n        })));\n      }\n    }\n\n    if (part.part.command) {\n      const {\n        command\n      } = part.part;\n      menuActions.push(new Separator());\n      menuActions.push(new Action(command.id, command.title, undefined, true, () => __awaiter(this, void 0, void 0, function* () {\n        var _b;\n\n        try {\n          yield commandService.executeCommand(command.id, ...((_b = command.arguments) !== null && _b !== void 0 ? _b : []));\n        } catch (err) {\n          notificationService.notify({\n            severity: Severity.Error,\n            source: part.item.provider.displayName,\n            message: err\n          });\n        }\n      })));\n    } // show context menu\n\n\n    const useShadowDOM = editor.getOption(115\n    /* useShadowDOM */\n    );\n    contextMenuService.showContextMenu({\n      domForShadowRoot: useShadowDOM ? (_a = editor.getDomNode()) !== null && _a !== void 0 ? _a : undefined : undefined,\n      getAnchor: () => {\n        const box = dom.getDomNodePagePosition(anchor);\n        return {\n          x: box.left,\n          y: box.top + box.height + 8\n        };\n      },\n      getActions: () => menuActions,\n      onHide: () => {\n        editor.focus();\n      },\n      autoSelectFirstItem: true\n    });\n  });\n}\nexport function goToDefinitionWithLocation(accessor, event, editor, location) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const resolverService = accessor.get(ITextModelService);\n    const ref = yield resolverService.createModelReference(location.uri);\n    yield editor.invokeWithinContext(accessor => __awaiter(this, void 0, void 0, function* () {\n      const openToSide = event.hasSideBySideModifier;\n      const contextKeyService = accessor.get(IContextKeyService);\n      const isInPeek = PeekContext.inPeekEditor.getValue(contextKeyService);\n      const canPeek = !openToSide && editor.getOption(78\n      /* definitionLinkOpensInPeek */\n      ) && !isInPeek;\n      const action = new DefinitionAction({\n        openToSide,\n        openInPeek: canPeek,\n        muteMessage: true\n      }, {\n        alias: '',\n        label: '',\n        id: '',\n        precondition: undefined\n      });\n      return action.run(accessor, editor, {\n        model: ref.object.textEditorModel,\n        position: Range.getStartPosition(location.range)\n      });\n    }));\n    ref.dispose();\n  });\n}","map":{"version":3,"sources":["/home/joe/DISSY/flask_test_1/react-flask-app/node_modules/monaco-editor/esm/vs/editor/contrib/inlayHints/browser/inlayHintsLocations.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","dom","Action","Separator","CancellationToken","EditorExtensionsRegistry","Range","ITextModelService","DefinitionAction","SymbolNavigationAction","SymbolNavigationAnchor","PeekContext","isIMenuItem","MenuId","MenuRegistry","ICommandService","IContextKeyService","IContextMenuService","IInstantiationService","INotificationService","Severity","showGoToContextMenu","accessor","editor","anchor","part","_a","resolverService","get","contextMenuService","commandService","instaService","notificationService","item","None","location","menuActions","filter","Set","getMenuItems","EditorContext","map","command","id","delegate","getEditorActions","has","push","label","undefined","ref","createModelReference","uri","invokeFunction","run","bind","object","textEditorModel","getStartPosition","range","dispose","title","_b","executeCommand","arguments","err","notify","severity","Error","source","provider","displayName","message","useShadowDOM","getOption","showContextMenu","domForShadowRoot","getDomNode","getAnchor","box","getDomNodePagePosition","x","left","y","top","height","getActions","onHide","focus","autoSelectFirstItem","goToDefinitionWithLocation","event","invokeWithinContext","openToSide","hasSideBySideModifier","contextKeyService","isInPeek","inPeekEditor","getValue","canPeek","action","openInPeek","muteMessage","alias","precondition","model","position"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Action, Separator } from '../../../../base/common/actions.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { EditorExtensionsRegistry } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { DefinitionAction, SymbolNavigationAction, SymbolNavigationAnchor } from '../../gotoSymbol/browser/goToCommands.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport { isIMenuItem, MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nexport function showGoToContextMenu(accessor, editor, anchor, part) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const resolverService = accessor.get(ITextModelService);\n        const contextMenuService = accessor.get(IContextMenuService);\n        const commandService = accessor.get(ICommandService);\n        const instaService = accessor.get(IInstantiationService);\n        const notificationService = accessor.get(INotificationService);\n        yield part.item.resolve(CancellationToken.None);\n        if (!part.part.location) {\n            return;\n        }\n        const location = part.part.location;\n        const menuActions = [];\n        // from all registered (not active) context menu actions select those\n        // that are a symbol navigation action\n        const filter = new Set(MenuRegistry.getMenuItems(MenuId.EditorContext)\n            .map(item => isIMenuItem(item) ? item.command.id : ''));\n        for (const delegate of EditorExtensionsRegistry.getEditorActions()) {\n            if (delegate instanceof SymbolNavigationAction && filter.has(delegate.id)) {\n                menuActions.push(new Action(delegate.id, delegate.label, undefined, true, () => __awaiter(this, void 0, void 0, function* () {\n                    const ref = yield resolverService.createModelReference(location.uri);\n                    try {\n                        yield instaService.invokeFunction(delegate.run.bind(delegate), editor, new SymbolNavigationAnchor(ref.object.textEditorModel, Range.getStartPosition(location.range)));\n                    }\n                    finally {\n                        ref.dispose();\n                    }\n                })));\n            }\n        }\n        if (part.part.command) {\n            const { command } = part.part;\n            menuActions.push(new Separator());\n            menuActions.push(new Action(command.id, command.title, undefined, true, () => __awaiter(this, void 0, void 0, function* () {\n                var _b;\n                try {\n                    yield commandService.executeCommand(command.id, ...((_b = command.arguments) !== null && _b !== void 0 ? _b : []));\n                }\n                catch (err) {\n                    notificationService.notify({\n                        severity: Severity.Error,\n                        source: part.item.provider.displayName,\n                        message: err\n                    });\n                }\n            })));\n        }\n        // show context menu\n        const useShadowDOM = editor.getOption(115 /* useShadowDOM */);\n        contextMenuService.showContextMenu({\n            domForShadowRoot: useShadowDOM ? (_a = editor.getDomNode()) !== null && _a !== void 0 ? _a : undefined : undefined,\n            getAnchor: () => {\n                const box = dom.getDomNodePagePosition(anchor);\n                return { x: box.left, y: box.top + box.height + 8 };\n            },\n            getActions: () => menuActions,\n            onHide: () => {\n                editor.focus();\n            },\n            autoSelectFirstItem: true,\n        });\n    });\n}\nexport function goToDefinitionWithLocation(accessor, event, editor, location) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resolverService = accessor.get(ITextModelService);\n        const ref = yield resolverService.createModelReference(location.uri);\n        yield editor.invokeWithinContext((accessor) => __awaiter(this, void 0, void 0, function* () {\n            const openToSide = event.hasSideBySideModifier;\n            const contextKeyService = accessor.get(IContextKeyService);\n            const isInPeek = PeekContext.inPeekEditor.getValue(contextKeyService);\n            const canPeek = !openToSide && editor.getOption(78 /* definitionLinkOpensInPeek */) && !isInPeek;\n            const action = new DefinitionAction({ openToSide, openInPeek: canPeek, muteMessage: true }, { alias: '', label: '', id: '', precondition: undefined });\n            return action.run(accessor, editor, { model: ref.object.textEditorModel, position: Range.getStartPosition(location.range) });\n        }));\n        ref.dispose();\n    });\n}\n"]},"metadata":{},"sourceType":"module"}